{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/theme.js"],"sourcesContent":["const theme = {\n  colors: {\n    primary: '#0ea5e9',\n    secondary: '#10b981',\n    danger: '#ef4444',\n    success: '#22c55e',\n  },\n};\nexport default theme;\n"],"names":[],"mappings":";;;;AAAA,MAAM,QAAQ;IACZ,QAAQ;QACN,SAAS;QACT,WAAW;QACX,QAAQ;QACR,SAAS;IACX;AACF;uCACe","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/components/ConfirmModal.js"],"sourcesContent":["export default function ConfirmModal({ visible, title, message, confirmText, confirmColor, onConfirm, onCancel }) {\n  if (!visible) return null\n\n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[9999]\">\n      <div className=\"w-full max-w-sm p-6 text-right bg-white rounded-lg shadow-lg\">\n        <h3 className=\"mb-2 text-lg font-semibold text-gray-800\">{title}</h3>\n        <p className=\"mb-4 text-sm text-gray-600\">{message}</p>\n\n        <div className=\"flex justify-end gap-3\">\n          <button\n            onClick={onConfirm}\n            className=\"px-4 py-2 text-white rounded-md hover:opacity-90\"\n            style={{ backgroundColor: confirmColor || '#ef4444' }}\n          >\n            {confirmText || 'ØªØ£ÙƒÙŠØ¯'}\n          </button>\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300\"\n          >\n            Ø¥Ù„ØºØ§Ø¡\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,aAAa,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,EAAE;IAC9G,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAC1D,qKAAC;oBAAE,WAAU;8BAA8B;;;;;;8BAE3C,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BACC,SAAS;4BACT,WAAU;4BACV,OAAO;gCAAE,iBAAiB,gBAAgB;4BAAU;sCAEnD,eAAe;;;;;;sCAElB,qKAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/components/AuthGuard.js"],"sourcesContent":["// components/AuthGuard.js\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\n/**\n * props:\n *  - allowedRoles: ['admin','cashier', ...]\n *  - requiredPermissions: ['view_reports','add_sale', ...]\n *\n * ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ ÙƒØ§Ø¦Ù† \"pharmacy_user\" ÙÙŠ localStorage Ø¨Ø§Ù„Ø´ÙƒÙ„:\n * {\n *   id, name, username, email,\n *   role: 'admin' | 'pharmacist' | 'cashier',\n *   permissions: ['view_reports','add_sale', ...]\n * }\n */\nexport default function AuthGuard({\n  children,\n  allowedRoles = [],\n  requiredPermissions = [],\n}) {\n  const router = useRouter();\n  const [status, setStatus] = useState(\"checking\"); // checking | allowed | denied\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    try {\n      const raw = localStorage.getItem(\"pharmacy_user\");\n      if (!raw) {\n        setStatus(\"denied\");\n        router.replace(\"/\");\n        return;\n      }\n\n      const user = JSON.parse(raw || \"{}\");\n      const userRole = user.role;\n      const userPerms = Array.isArray(user.permissions) ? user.permissions : [];\n\n      // 1) Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙˆØ±\n      if (allowedRoles.length && !allowedRoles.includes(userRole)) {\n        setStatus(\"denied\");\n        router.replace(\"/403\");\n        return;\n      }\n\n      // 2) Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª\n      if (\n        requiredPermissions.length &&\n        !requiredPermissions.every((p) => userPerms.includes(p))\n      ) {\n        setStatus(\"denied\");\n        router.replace(\"/403\");\n        return;\n      }\n\n      setStatus(\"allowed\");\n    } catch (err) {\n      console.error(\"AuthGuard error:\", err);\n      setStatus(\"denied\");\n      router.replace(\"/\");\n    }\n  }, [router, allowedRoles, requiredPermissions]);\n\n  if (status !== \"allowed\") return null;\n  return children;\n}\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAC1B;AACA;;;AAce,SAAS,UAAU,EAChC,QAAQ,EACR,eAAe,EAAE,EACjB,sBAAsB,EAAE,EACzB;IACC,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC,aAAa,8BAA8B;IAEhF,IAAA,gHAAS,EAAC;QACR,wCAAmC;;;IAqCrC,GAAG;QAAC;QAAQ;QAAc;KAAoB;IAE9C,IAAI,WAAW,WAAW,OAAO;IACjC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/components/Header.js"],"sourcesContent":["// components/Header.js\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { useAuth } from \"../context/AuthContext\";\n\nexport default function Header() {\n  const router = useRouter();\n  const { user, logout } = useAuth();\n  const [open, setOpen] = useState(false);\n\n  if (!user) return null;\n\n  return (\n    <header\n      dir=\"rtl\"\n      className=\"flex items-center justify-between p-4 bg-white border-b shadow-sm\"\n    >\n      {/* Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… */}\n      <div\n        onClick={() => router.push(\"/dashboard\")}\n        className=\"flex items-center gap-2 cursor-pointer\"\n      >\n        <div className=\"flex items-center justify-center w-10 h-10 text-xl text-white rounded-lg shadow bg-sky-600\">\n          ğŸ’Š\n        </div>\n        <div>\n          <h1 className=\"text-lg font-bold text-gray-800\">Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h1>\n          <p className=\"-mt-1 text-xs text-gray-500\">Pharmacy Management</p>\n        </div>\n      </div>\n\n      {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */}\n      <div className=\"relative\">\n        <button\n          onClick={() => setOpen(!open)}\n          className=\"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 rounded-lg hover:bg-gray-200\"\n        >\n          <span className=\"text-gray-800\">{user.username}</span>\n          <span>ğŸ‘¤</span>\n        </button>\n\n        {open && (\n          <div className=\"absolute left-0 z-50 w-48 mt-2 overflow-hidden bg-white border rounded-lg shadow-lg\">\n            <div className=\"px-4 py-2 text-sm text-gray-700 border-b bg-gray-50\">\n              <p className=\"font-semibold\">{user.username}</p>\n              <p className=\"text-xs text-gray-500\">\n                {user.role === \"admin\"\n                  ? \"ğŸ‘‘ Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…\"\n                  : user.role === \"pharmacist\"\n                  ? \"ğŸ’Š ØµÙŠØ¯Ù„ÙŠ\"\n                  : \"ğŸ’µ ÙƒØ§Ø´ÙŠØ±\"}\n              </p>\n            </div>\n\n            <Link\n              href=\"/profile\"\n              className=\"block px-4 py-2 text-sm hover:bg-gray-50\"\n            >\n              ğŸ§‘â€âš•ï¸ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ\n            </Link>\n\n            <button\n              onClick={() => {\n                setOpen(false);\n                logout();\n              }}\n              className=\"w-full px-4 py-2 text-sm text-right text-red-600 hover:bg-red-50\"\n            >\n              ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n            </button>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n// import { useState, useEffect } from 'react'\n// import { Menu } from 'lucide-react'\n\n// export default function Header() {\n//   const [user, setUser] = useState(null)\n//   const [menuOpen, setMenuOpen] = useState(false)\n\n//   useEffect(() => {\n//     const savedUser = localStorage.getItem('pharmacy_user')\n//     if (savedUser) {\n//       setUser(JSON.parse(savedUser))\n//     }\n//   }, [])\n\n//   const logout = () => {\n//     localStorage.removeItem('pharmacy_token')\n//     localStorage.removeItem('pharmacy_user')\n//     window.location.href = '/'\n//   }\n\n//   if (!user) return null\n\n//   return (\n//     <header className=\"flex items-center justify-between px-6 py-3 bg-white border-b border-gray-200 shadow-sm\" dir=\"rtl\">\n//       <h1 className=\"text-lg font-bold text-sky-700\">ğŸ’Š Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©</h1>\n\n//       <div className=\"relative\">\n//         <button\n//           onClick={() => setMenuOpen(!menuOpen)}\n//           className=\"flex items-center gap-2 px-3 py-1 text-sm font-medium text-gray-700 bg-gray-100 rounded-full hover:bg-gray-200\"\n//         >\n//           <span className=\"text-gray-800\">{user.name}</span>\n//           <Menu className=\"w-4 h-4 text-gray-600\" />\n//         </button>\n\n//         {menuOpen && (\n//           <div className=\"absolute left-0 w-48 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg\">\n//             <div className=\"px-4 py-2 text-sm text-gray-700 border-b bg-gray-50\">\n//               <p className=\"font-semibold\">{user.name}</p>\n//               <p className=\"text-xs text-gray-500\">\n//                 {user.role === 'admin'\n//                   ? 'ğŸ‘‘ Ø§Ù„Ù…Ø¯ÙŠØ±'\n//                   : user.role === 'pharmacist'\n//                   ? 'ğŸ’Š Ø§Ù„ØµÙŠØ¯Ù„ÙŠ'\n//                   : 'ğŸ’µ Ø§Ù„ÙƒØ§Ø´ÙŠØ±'}\n//               </p>\n//             </div>\n\n//             <button\n//               onClick={logout}\n//               className=\"w-full px-4 py-2 text-sm text-right text-red-600 hover:bg-red-50\"\n//             >\n//               ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n//             </button>\n//           </div>\n//         )}\n//       </div>\n//     </header>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n// import { useRouter } from 'next/router'\n// import theme from '../theme'\n// import toast from 'react-hot-toast'\n\n// export default function Header({ user }) {\n//   const router = useRouter()\n\n//   const navConfig = {\n//     admin: [\n//       { name: 'ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', path: '/dashboard' },\n//       { name: 'ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports' },\n//       { name: 'âš™ï¸ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª', path: '/permissions' },\n//     ],\n//     pharmacist: [\n//       { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist' },\n//       { name: 'ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', path: '/sales' },\n//       { name: 'âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª', path: '/alerts' },\n//     ],\n//     cashier: [\n//       { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier' },\n//       { name: 'ğŸ“„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…', path: '/cashierReport' },\n//       { name: 'ğŸ’¼ Ø§Ù„ÙˆØ±Ø¯ÙŠØ©', path: '/shift' },\n//     ],\n//   }\n\n//   const role = user?.role || 'pharmacist'\n//   const links = navConfig[role]\n\n//   // const handleLogout = () => {\n//   //   toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n//   //   setTimeout(() => router.push('/'), 1200)\n//   // }\n//   const handleLogout = () => {\n//   localStorage.removeItem('pharmacy_token')\n//   localStorage.removeItem('pharmacy_user')\n//   window.location.href = '/'\n//     toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n\n// }\n\n  \n//   return (\n//     <header\n//       dir=\"rtl\"\n//       className=\"sticky top-0 z-40 w-full bg-white border-b shadow-sm\"\n//       style={{\n//         borderColor: `${theme.colors.primary}20`,\n//       }}\n//     >\n//       <div className=\"flex flex-col items-center justify-between gap-3 px-4 py-3 mx-auto sm:flex-row max-w-7xl\">\n//         {/* Ø´Ø¹Ø§Ø± */}\n//         <div className=\"flex items-center gap-2\">\n//           <div\n//             className=\"flex items-center justify-center w-10 h-10 text-xl font-bold text-white rounded-md shadow\"\n//             style={{ background: theme.colors.primary }}\n//           >\n//             ğŸ’Š\n//           </div>\n//           <div>\n//             <h1 className=\"text-lg font-bold text-gray-800\">\n//               Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ\n//             </h1>\n//             <p className=\"text-xs text-gray-500 -mt-0.5\">Pharmacy System</p>\n//           </div>\n//         </div>\n\n//         {/* Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ */}\n//         <nav className=\"flex flex-wrap justify-center gap-1 sm:gap-2\">\n//           {links.map((item) => {\n//             const active = router.pathname === item.path\n//             return (\n//               <button\n//                 key={item.path}\n//                 onClick={() => router.push(item.path)}\n//                 className={`px-3 py-1.5 text-sm font-medium rounded-md border transition-all ${\n//                   active\n//                     ? 'text-white shadow-sm'\n//                     : 'text-gray-700 hover:text-sky-700 hover:bg-sky-50'\n//                 }`}\n//                 style={{\n//                   backgroundColor: active ? theme.colors.primary : 'transparent',\n//                   borderColor: active ? theme.colors.primary : '#e5e7eb',\n//                 }}\n//               >\n//                 {item.name}\n//               </button>\n//             )\n//           })}\n//         </nav>\n\n//         {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */}\n//         <div className=\"flex items-center gap-3\">\n//           <div className=\"text-sm text-gray-700\">\n//             Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ <span className=\"font-semibold text-sky-700\">{user?.name}</span>\n//             <span className=\"ml-1 text-gray-500\">({user?.role})</span>\n//           </div>\n//           <button\n//             onClick={handleLogout}\n//             className=\"px-3 py-1.5 text-sm text-white rounded-md border shadow-sm hover:opacity-90\"\n//             style={{\n//               background: theme.colors.danger,\n//               borderColor: `${theme.colors.danger}80`,\n//             }}\n//           >\n//             ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n//           </button>\n//         </div>\n//       </div>\n//     </header>\n//   )\n// }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/components/Layout.js"],"sourcesContent":["import { useRouter } from 'next/router'\nimport theme from '../theme'\nimport { useState, useEffect } from 'react'\nimport ConfirmModal from './ConfirmModal'\nimport { FaSignOutAlt } from 'react-icons/fa'\nimport AuthGuard from \"../components/AuthGuard\";\nimport Header from './Header'\nexport default function Layout({ user, title, children }) {\n  const router = useRouter()\n  const [showLogoutModal, setShowLogoutModal] = useState(false)\n\n  const role = user?.role || \"pharmacist\"\n\n  // Ø±ÙˆØ§Ø¨Ø· Ø«Ø§Ø¨ØªØ© (Frontend ÙÙ‚Ø·)\n  const navConfig = {\n    admin: [\n      { name: 'ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', path: '/dashboard' },\n      { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist' },\n      { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier' },\n      { name: 'ğŸ“¦ Ø§Ù„Ù…Ø®Ø²Ù†', path: '/inventory' },\n      { name: 'ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports' },\n      { name: 'ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†', path: '/users' },\n      { name: 'ğŸ‘¥ ', path: '/profile' },\n    ],\n    pharmacist: [\n      { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist' },\n      { name: 'ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', path: '/inventory' },\n      { name: 'ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', path: '/reports' },\n      { name: 'ğŸ‘¥ ', path: '/profile' },\n    ],\n    cashier: [\n      { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier' },\n      { name: 'ğŸ“„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', path: '/shift' },\n      { name: 'ğŸ‘¥ ', path: '/profile' },\n    ],\n  }\n\n  const links = navConfig[role] || []\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"pharmacy_user\")\n    router.replace(\"/\")\n  }\n\n  return (\n    <AuthGuard>\n    <div dir=\"rtl\" className=\"flex flex-col min-h-screen bg-gray-50\">\n      <header\n        className=\"sticky top-0 z-40 w-full bg-white border-b shadow-sm\"\n        style={{ borderColor: `${theme.colors.primary}20` }}\n      >\n        <div className=\"flex flex-col items-center justify-between gap-3 px-4 py-3 mx-auto sm:flex-row max-w-7xl\">\n          <div className=\"flex items-center gap-2\">\n            <div\n              className=\"flex items-center justify-center w-10 h-10 text-xl font-bold text-white rounded-md shadow\"\n              style={{ background: theme.colors.primary }}\n            >\n              ğŸ’Š\n            </div>\n            <div>\n              <h1 className=\"text-lg font-bold text-gray-800\">Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h1>\n              <p className=\"text-xs text-gray-500 -mt-0.5\">Pharmacy Management System</p>\n            </div>\n          </div>\n\n          <nav className=\"flex flex-wrap justify-center gap-1 sm:gap-2\">\n            {links.map((item) => (\n              <button\n                key={item.path}\n                onClick={() => router.push(item.path)}\n                className={`px-3 py-1.5 text-sm font-medium rounded-md border transition-all ${\n                  router.pathname === item.path\n                    ? 'text-white shadow-sm'\n                    : 'text-gray-700 hover:text-sky-700 hover:bg-sky-50'\n                }`}\n                style={{\n                  backgroundColor:\n                    router.pathname === item.path\n                      ? theme.colors.primary\n                      : 'transparent',\n                  borderColor:\n                    router.pathname === item.path\n                      ? theme.colors.primary\n                      : '#e5e7eb',\n                }}\n              >\n                {item.name}\n              </button>\n            ))}\n          </nav>\n\n          <div className=\"flex items-center gap-3\">\n            <div className=\"text-sm text-gray-700\">\n              Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ{' '}\n              <span className=\"font-semibold text-sky-700\">\n                {user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}\n              </span>\n              <span className=\"ml-1 text-gray-500\">\n                ({role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : role === 'cashier' ? 'ÙƒØ§Ø´ÙŠØ±' : 'ØµÙŠØ¯Ù„ÙŠ'})\n              </span>\n            </div>\n\n            <button\n              onClick={() => setShowLogoutModal(true)}\n              className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white transition-all duration-200 border rounded-md shadow-sm\"\n              style={{\n                backgroundColor: 'rgba(239, 68, 68, 0.85)',\n                borderColor: 'rgba(239, 68, 68, 0.5)',\n              }}\n            >\n              <FaSignOutAlt className=\"text-lg\" />\n              <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"flex-1 w-full px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n        {title && (\n          <h2 className=\"pb-2 mb-6 text-2xl font-bold text-gray-800 border-b border-gray-200\">\n            {title}\n          </h2>\n        )}\n        {children}\n      </main>\n\n      <footer className=\"py-3 mt-auto text-xs text-center text-gray-400 border-t border-gray-100\">\n        Â© {new Date().getFullYear()} Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n      </footer>\n\n      <ConfirmModal\n        visible={showLogoutModal}\n        title=\"ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n        message=\"Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ\"\n        confirmText=\"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n        confirmColor={theme.colors.danger}\n        onConfirm={handleLogout}\n        onCancel={() => setShowLogoutModal(false)}\n      />\n    </div>\n    </AuthGuard>\n  )\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // components/Layout.js\n// import { useRouter } from 'next/router'\n// import { useEffect, useState } from 'react'\n// import toast from 'react-hot-toast'\n// import theme from '../theme'\n// import ConfirmModal from './ConfirmModal'\n// import { FaSignOutAlt } from 'react-icons/fa'\n\n// export default function Layout({ user, title, children }) {\n//   const router = useRouter()\n//   const [permissions, setPermissions] = useState([])\n//   const [showLogoutModal, setShowLogoutModal] = useState(false)\n\n//   useEffect(() => {\n//     const savedPerms = JSON.parse(localStorage.getItem('permissions')) || []\n//     setPermissions(savedPerms)\n//   }, [])\n\n//   // âœ… ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø¯ÙŠØ± Ø£Ùˆ Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©)\n//   const hasPermission = (key) => user?.role === 'admin' || permissions.includes(key)\n\n//   // const handleLogout = () => {\n//   //   localStorage.removeItem('permissions')\n//   //   toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n//   //   router.push('/')\n//   // }\n\n//   // const handleLogout = () => {\n//   //   // ğŸ§¹ ØªÙ†Ø¸ÙŠÙ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n//   //   localStorage.removeItem('pharmacy_user')\n//   //   // Cookies.remove('token')\n//   //   // Cookies.remove('user')\n\n//   //   toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n\n//   //   // â³ Ø¨Ø¹Ø¯ Ù†ØµÙ Ø«Ø§Ù†ÙŠØ© ÙŠØ±Ø¬Ø¹ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n//   //   setTimeout(() => {\n//   //     router.push('/')\n//   //   }, 500)\n//   // }\n\n// //    const handleLogout = () => {\n// //   localStorage.removeItem('pharmacy_token')\n// //   localStorage.removeItem('pharmacy_user')\n// //   window.location.href = '/'\n// //     toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n\n// // }\n\n// const handleLogout = () => {\n//   // Ø­Ø°Ù Ø§Ù„Ø¬Ù„Ø³Ø© ØªÙ…Ø§Ù…Ù‹Ø§\n//   localStorage.removeItem(\"pharmacy_token\")\n//   localStorage.removeItem(\"pharmacy_user\")\n\n//   // Ù…Ù†Ø¹ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ø®Ù„Ù\n//   window.history.pushState(null, \"\", window.location.href)\n//   window.addEventListener(\"popstate\", () => {\n//     window.history.pushState(null, \"\", window.location.href)\n//   })\n\n//   // Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n//   router.replace(\"/\")\n// }\n\n\n\n//   // ğŸ”¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±\n//   const navConfig = {\n//     admin: [\n//       { name: 'ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', path: '/dashboard', perm: 'view_reports' },\n//       { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist', perm: 'manage_medicines' },\n//       { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier', perm: 'add_sale' },\n//       { name: 'ğŸ“¦ Ø§Ù„Ù…Ø®Ø²Ù†', path: '/inventory', perm: 'view_reports' },\n//       { name: 'ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports', perm: 'view_reports' },\n//       { name: 'ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†', path: '/users', perm: 'manage_users' },\n//     ],\n//     pharmacist: [\n//       { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist', perm: 'manage_medicines' },\n//       { name: 'ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†', path: '/inventory', perm: 'view_reports' },\n//       { name: 'ğŸ“Š ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', path: '/reports', perm: 'view_reports' },\n//     ],\n//     cashier: [\n//       { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier', perm: 'add_sale' },\n//       { name: 'ğŸ“„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', path: '/shift', perm: 'view_reports' },\n//     ],\n//   }\n\n//   const role = user?.role || 'pharmacist'\n//   const links = navConfig[role] || []\n\n//   return (\n//     <div dir=\"rtl\" className=\"flex flex-col min-h-screen bg-gray-50\">\n//       {/* ğŸ”¹ Ø§Ù„Ù‡ÙŠØ¯Ø± */}\n//       <header\n//         className=\"sticky top-0 z-40 w-full bg-white border-b shadow-sm\"\n//         style={{ borderColor: `${theme.colors.primary}20` }}\n//       >\n//         <div className=\"flex flex-col items-center justify-between gap-3 px-4 py-3 mx-auto sm:flex-row max-w-7xl\">\n//           {/* Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… */}\n//           <div className=\"flex items-center gap-2\">\n//             <div\n//               className=\"flex items-center justify-center w-10 h-10 text-xl font-bold text-white rounded-md shadow\"\n//               style={{ background: theme.colors.primary }}\n//             >\n//               ğŸ’Š\n//             </div>\n//             <div>\n//               <h1 className=\"text-lg font-bold text-gray-800\">Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h1>\n//               <p className=\"text-xs text-gray-500 -mt-0.5\">Pharmacy Management System</p>\n//             </div>\n//           </div>\n\n//           {/* Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ */}\n//           <nav className=\"flex flex-wrap justify-center gap-1 sm:gap-2\">\n//             {links.map(\n//               (item) =>\n//                 hasPermission(item.perm) && (\n//                   <button\n//                     key={item.path}\n//                     onClick={() => router.push(item.path)}\n//                     className={`px-3 py-1.5 text-sm font-medium rounded-md border transition-all ${\n//                       router.pathname === item.path\n//                         ? 'text-white shadow-sm'\n//                         : 'text-gray-700 hover:text-sky-700 hover:bg-sky-50'\n//                     }`}\n//                     style={{\n//                       backgroundColor:\n//                         router.pathname === item.path\n//                           ? theme.colors.primary\n//                           : 'transparent',\n//                       borderColor:\n//                         router.pathname === item.path\n//                           ? theme.colors.primary\n//                           : '#e5e7eb',\n//                     }}\n//                   >\n//                     {item.name}\n//                   </button>\n//                 )\n//             )}\n//           </nav>\n\n//           {/* Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ */}\n//           <div className=\"flex items-center gap-3\">\n//             <div className=\"flex items-center gap-2 text-sm text-gray-700\">\n//               <span>\n//                 Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ{' '}\n//                 <span className=\"font-semibold text-sky-700\">{user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}</span>{' '}\n//                 <span className=\"ml-1 text-gray-500\">\n//                   ({user?.role === 'admin'\n//                     ? 'Ù…Ø¯ÙŠØ±'\n//                     : user?.role === 'cashier'\n//                     ? 'ÙƒØ§Ø´ÙŠØ±'\n//                     : 'ØµÙŠØ¯Ù„ÙŠ'}\n//                   )\n//                 </span>\n//               </span>\n//             </div>\n//            <button\n//   onClick={() => setShowLogoutModal(true)}\n//   className=\"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white transition-all duration-200 border rounded-md shadow-sm\"\n//   style={{\n//     backgroundColor: 'rgba(239, 68, 68, 0.85)', // ğŸ”´ Ø£Ø­Ù…Ø± Ø£ÙƒØ«Ø± ÙˆØ¶ÙˆØ­Ù‹Ø§\n//     borderColor: 'rgba(239, 68, 68, 0.5)',\n//   }}\n//   onMouseEnter={(e) => (e.target.style.backgroundColor = 'rgba(220, 38, 38, 1)')} // Ø£Ø­Ù…Ø± Ù‚ÙˆÙŠ Ø¹Ù†Ø¯ hover\n//   onMouseLeave={(e) => (e.target.style.backgroundColor = 'rgba(239, 68, 68, 0.85)')} // ÙŠØ¹ÙˆØ¯ Ù„Ù„Ø´ÙØ§Ù Ø§Ù„Ù‚ÙˆÙŠ\n// >\n//   <FaSignOutAlt className=\"text-lg\" />\n//   <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>\n// </button>\n\n\n//           </div>\n//         </div>\n//       </header>\n\n//       {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */}\n//       <main className=\"flex-1 w-full px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//         {title && (\n//           <h2 className=\"pb-2 mb-6 text-2xl font-bold text-gray-800 border-b border-gray-200\">\n//             {title}\n//           </h2>\n//         )}\n//         {children}\n//       </main>\n\n//       {/* Ø§Ù„ÙÙˆØªØ± */}\n//       <footer className=\"py-3 mt-auto text-xs text-center text-gray-400 border-t border-gray-100\">\n//         Â© {new Date().getFullYear()} Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n//       </footer>\n\n//       {/* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ */}\n//       <ConfirmModal\n//         visible={showLogoutModal}\n//         title=\"ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n//         message=\"Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ\"\n//         confirmText=\"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n//         confirmColor={theme.colors.danger}\n//         onConfirm={handleLogout}\n//         onCancel={() => setShowLogoutModal(false)}\n//       />\n//     </div>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n\n// // components/Layout.js\n// import { useEffect, useMemo, useState } from 'react'\n// import { useRouter } from 'next/router'\n// import theme from '../theme'\n// import toast from 'react-hot-toast'\n\n// export default function Layout({ user: userProp, title, children }) {\n//   const router = useRouter()\n//   const [user, setUser] = useState(userProp || null)\n\n//   // Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† localStorage\n//   useEffect(() => {\n//     try {\n//       const raw = localStorage.getItem('pharmacy_user')\n//       if (raw) setUser(JSON.parse(raw))\n//     } catch {\n//       // ignore\n//     }\n//   }, [])\n\n//   const role = user?.role || 'guest'\n\n//   // Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø¨Ø³ÙŠØ·\n//   const hasPermission = (perm) => {\n//     const map = {\n//       admin: ['dashboard', 'inventory', 'products', 'sales', 'reports', 'cashier', 'pharmacist', 'users'],\n//       pharmacist: ['pharmacist', 'inventory', 'products', 'reports'],\n//       cashier: ['cashier', 'pos', 'reports'],\n//       guest: [],\n//     }\n//     return map[role]?.includes(perm)\n//   }\n\n//   const nav = useMemo(() => {\n//     const items = []\n//     if (hasPermission('dashboard')) items.push({ name: 'Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±', path: '/dashboard' })\n//     if (hasPermission('pharmacist')) items.push({ name: 'Ù„ÙˆØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ', path: '/pharmacist' })\n//     if (hasPermission('cashier')) items.push({ name: 'Ø§Ù„ÙƒØ§Ø´ÙŠØ±', path: '/cashier' })\n//     if (hasPermission('reports')) items.push({ name: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports' })\n//     return items\n//   }, [role])\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('pharmacy_user')\n//     toast.success('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬')\n//     router.push('/')\n//   }\n\n//   return (\n//     <div className=\"flex flex-col min-h-screen\">\n//       {/* Header */}\n//       <header className=\"sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm\">\n//         <div className=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//           <div className=\"flex flex-wrap items-center justify-between gap-3 py-4\">\n//             <div className=\"flex items-center gap-3\">\n//               <div\n//                 className=\"flex items-center justify-center w-10 h-10 text-xl text-white rounded-md shadow-sm\"\n//                 style={{ backgroundColor: theme.colors.primary }}\n//               >\n//                 ğŸ’Š\n//               </div>\n//               <div className=\"leading-tight\">\n//                 <div className=\"text-xl font-bold text-gray-900\">Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©</div>\n//                 <div className=\"text-xs text-gray-500\">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…Ø®Ø²ÙˆÙ†</div>\n//               </div>\n//             </div>\n\n//             <div className=\"flex items-center gap-3\">\n//               {nav.map((n) => (\n//                 <button\n//                   key={n.path}\n//                   onClick={() => router.push(n.path)}\n//                   className={`px-3 py-1.5 rounded-md text-sm ${\n//                     router.pathname === n.path\n//                       ? 'text-white shadow-sm'\n//                       : 'text-gray-700 hover:text-sky-700 hover:bg-sky-50'\n//                   }`}\n//                   style={{\n//                     backgroundColor: router.pathname === n.path ? theme.colors.primary : 'transparent',\n//                   }}\n//                 >\n//                   {n.name}\n//                 </button>\n//               ))}\n//               <div className=\"w-px h-6 mx-1 bg-gray-200\" />\n//               {user ? (\n//                 <>\n//                   <span className=\"text-sm text-gray-700\">\n//                     Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {user.name}{' '}\n//                     <span className=\"text-gray-500\">({role === 'admin' ? 'Ù…Ø¯ÙŠØ±' : role === 'pharmacist' ? 'ØµÙŠØ¯Ù„ÙŠ' : role === 'cashier' ? 'ÙƒØ§Ø´ÙŠØ±' : 'Ø²Ø§Ø¦Ø±'})</span>\n//                   </span>\n//                   <button\n//                     onClick={handleLogout}\n//                     className=\"text-white bg-red-600 btn hover:bg-red-700\"\n//                   >\n//                     ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n//                   </button>\n//                 </>\n//               ) : (\n//                 <button onClick={() => router.push('/')} className=\"btn btn-primary\">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>\n//               )}\n//             </div>\n//           </div>\n//         </div>\n//       </header>\n\n//       {/* Page Title */}\n//       <main className=\"flex-1 w-full px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//         {title && <h2 className=\"pb-2 mb-6 text-2xl font-bold text-gray-800 border-b border-gray-200\">{title}</h2>}\n//         {children}\n//       </main>\n\n//       {/* Footer */}\n//       <footer className=\"py-3 text-xs text-center text-gray-400 border-t border-gray-100\">\n//         Â© 2025 Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n//       </footer>\n//     </div>\n//   )\n// }\n\n\n\n\n\n\n// // components/Layout.js\n// import { useRouter } from 'next/router'\n// import { useEffect, useState } from 'react'\n// import toast from 'react-hot-toast'\n// import theme from '../theme'\n// import ConfirmModal from './ConfirmModal'\n\n// export default function Layout({ user, title, children }) {\n//   const router = useRouter()\n//   const [permissions, setPermissions] = useState([])\n//   const [showLogoutModal, setShowLogoutModal] = useState(false)\n\n//   useEffect(() => {\n//     const savedPerms = JSON.parse(localStorage.getItem('permissions')) || []\n//     setPermissions(savedPerms)\n//   }, [])\n\n//   const hasPermission = (key) => user?.role === 'admin' || permissions.includes(key)\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('permissions')\n//     toast.success('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n//     router.push('/')\n//   }\n\n//   const navItems = [\n//     { name: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', path: '/dashboard', perm: 'view_reports' },\n//     { name: 'Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist', perm: 'manage_medicines' },\n//     { name: 'Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier', perm: 'add_sale' },\n//     { name: 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports', perm: 'view_reports' },\n//   ]\n\n//   return (\n//     <div className=\"flex flex-col min-h-screen bg-gray-50\" dir=\"rtl\">\n//       <header className=\"sticky top-0 z-40 bg-white border-b border-gray-100 shadow-sm\">\n//         <div className=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//           <div className=\"flex flex-wrap items-center justify-between gap-3 py-4\">\n//             <h1 className=\"text-2xl font-bold text-gray-900\">{title}</h1>\n\n//             <div className=\"flex items-center space-x-4 space-x-reverse\">\n//               <span className=\"text-sm text-gray-700\">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {user?.name}</span>\n//               <button\n//                 onClick={() => setShowLogoutModal(true)}\n//                 className=\"px-4 py-1.5 text-sm font-medium text-white rounded-md border border-red-200 shadow-sm hover:opacity-90 transition\"\n//                 style={{ backgroundColor: theme.colors.danger }}\n//               >\n//                 ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n//               </button>\n//             </div>\n//           </div>\n\n//           <nav className=\"flex flex-wrap gap-2 pt-2 pb-3 border-t border-gray-100\">\n//             {navItems.map(\n//               (item) =>\n//                 hasPermission(item.perm) && (\n//                   <button\n//                     key={item.path}\n//                     onClick={() => router.push(item.path)}\n//                     className={`px-3 py-1.5 rounded-md text-sm font-medium transition ${\n//                       router.pathname === item.path\n//                         ? 'text-white shadow-sm'\n//                         : 'text-gray-600 hover:text-sky-700 hover:bg-sky-50'\n//                     }`}\n//                     style={{\n//                       backgroundColor:\n//                         router.pathname === item.path ? theme.colors.primary : 'transparent',\n//                     }}\n//                   >\n//                     {item.name}\n//                   </button>\n//                 )\n//             )}\n//           </nav>\n//         </div>\n//       </header>\n\n//       <main className=\"flex-1 w-full px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//         {children}\n//       </main>\n\n//       <footer className=\"py-3 mt-auto text-xs text-center text-gray-400 border-t border-gray-100\">\n//         Â© 2025 Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n//       </footer>\n\n//       <ConfirmModal\n//         visible={showLogoutModal}\n//         title=\"ØªØ£ÙƒÙŠØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n//         message=\"Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ\"\n//         confirmText=\"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\"\n//         confirmColor={theme.colors.danger}\n//         onConfirm={handleLogout}\n//         onCancel={() => setShowLogoutModal(false)}\n//       />\n//     </div>\n//   )\n// }\n\n\n\n\n\n// import { useState } from 'react'\n// import { useRouter } from 'next/router'\n// import toast from 'react-hot-toast'\n// import theme from '../theme'\n\n// export default function Layout({ user, title, children }) {\n//   const router = useRouter()\n//   const [showLogout, setShowLogout] = useState(false)\n\n//   // ğŸ”¸ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù‡ÙŠØ¯Ø± Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±\n//   const navConfig = {\n//     admin: [\n//       { name: 'ğŸ  Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…', path: '/dashboard' },\n//       { name: 'ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', path: '/reports' },\n//       { name: 'âš™ï¸ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª', path: '/permissions' },\n//     ],\n//     pharmacist: [\n//       { name: 'ğŸ’Š Ø§Ù„Ø£Ø¯ÙˆÙŠØ©', path: '/pharmacist' },\n//       { name: 'ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', path: '/sales' },\n//       { name: 'âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª', path: '/alerts' },\n//     ],\n//     cashier: [\n//       { name: 'ğŸ§¾ Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨ÙŠØ¹', path: '/cashier' },\n//       { name: 'ğŸ’¼ Ø§Ù„ÙˆØ±Ø¯ÙŠØ©', path: '/cashierReport' },\n//       { name: 'ğŸ“„ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ', path: '/shift' },\n//     ],\n//   }\n\n//   // ğŸ”¸ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„ØªØ¹Ø±ÙŠÙÙŠØ© Ù„ÙƒÙ„ Ø¯ÙˆØ±\n//   const roleIcons = {\n//     admin: 'ğŸ‘‘',\n//     pharmacist: 'ğŸ’Š',\n//     cashier: 'ğŸ’µ',\n//   }\n\n//   const role = user?.role || 'pharmacist'\n//   const links = navConfig[role] || []\n//   const icon = roleIcons[role] || 'ğŸ‘¤'\n\n//   const handleLogout = () => {\n//     toast.success('ğŸ‘‹ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­')\n//     setTimeout(() => router.push('/'), 1000)\n//   }\n\n//   return (\n//     <div dir=\"rtl\" className=\"flex flex-col min-h-screen bg-gray-50\">\n//       {/* ğŸ”¹ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ */}\n//       <header\n//         className=\"sticky top-0 z-40 w-full bg-white border-b shadow-sm\"\n//         style={{ borderColor: `${theme.colors.primary}20` }}\n//       >\n//         <div className=\"flex flex-col items-center justify-between gap-3 px-4 py-3 mx-auto sm:flex-row max-w-7xl\">\n//           {/* Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… */}\n//           <div className=\"flex items-center gap-2\">\n//             <div\n//               className=\"flex items-center justify-center w-10 h-10 text-xl font-bold text-white rounded-md shadow\"\n//               style={{ background: theme.colors.primary }}\n//             >\n//               ğŸ’Š\n//             </div>\n//             <div>\n//               <h1 className=\"text-lg font-bold text-gray-800\">Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© Ø§Ù„Ø°ÙƒÙŠ</h1>\n//               <p className=\"text-xs text-gray-500 -mt-0.5\">Pharmacy System</p>\n//             </div>\n//           </div>\n\n//           {/* Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ */}\n//           <nav className=\"flex flex-wrap justify-center gap-1 sm:gap-2\">\n//             {links.map((item) => {\n//               const active = router.pathname === item.path\n//               return (\n//                 <button\n//                   key={item.path}\n//                   onClick={() => router.push(item.path)}\n//                   className={`px-3 py-1.5 text-sm font-medium rounded-md border transition-all ${\n//                     active\n//                       ? 'text-white shadow-sm'\n//                       : 'text-gray-700 hover:text-sky-700 hover:bg-sky-50'\n//                   }`}\n//                   style={{\n//                     backgroundColor: active ? theme.colors.primary : 'transparent',\n//                     borderColor: active ? theme.colors.primary : '#e5e7eb',\n//                   }}\n//                 >\n//                   {item.name}\n//                 </button>\n//               )\n//             })}\n//           </nav>\n\n//           {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */}\n//           <div className=\"flex items-center gap-3\">\n//             <div className=\"flex items-center gap-2 text-sm text-gray-700\">\n//               <span className=\"text-lg\">{icon}</span>\n//               <span>\n//                 Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ{' '}\n//                 <span className=\"font-semibold text-sky-700\">\n//                   {user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}\n//                 </span>{' '}\n//                 <span className=\"ml-1 text-gray-500\">\n//                   ({user?.role === 'admin'\n//                     ? 'Ù…Ø¯ÙŠØ±'\n//                     : user?.role === 'cashier'\n//                     ? 'ÙƒØ§Ø´ÙŠØ±'\n//                     : 'ØµÙŠØ¯Ù„ÙŠ'}\n//                   )\n//                 </span>\n//               </span>\n//             </div>\n\n//             <button\n//               onClick={handleLogout}\n//               className=\"px-3 py-1.5 text-sm text-white rounded-md border shadow-sm hover:opacity-90\"\n//               style={{\n//                 background: theme.colors.danger,\n//                 borderColor: `${theme.colors.danger}80`,\n//               }}\n//             >\n//               ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n//             </button>\n//           </div>\n//         </div>\n//       </header>\n\n//       {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */}\n//       <main className=\"flex-1 w-full px-4 py-6 mx-auto max-w-7xl sm:px-6 lg:px-8\">\n//         {title && (\n//           <h2 className=\"pb-2 mb-6 text-2xl font-bold text-gray-800 border-b border-gray-200\">\n//             {title}\n//           </h2>\n//         )}\n//         {children}\n//       </main>\n\n//       {/* Ø§Ù„ÙÙˆØªØ± */}\n//       <footer className=\"py-3 mt-auto text-xs text-center text-gray-400 border-t border-gray-100\">\n//         Â© {new Date().getFullYear()} Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ© â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©\n//       </footer>\n//     </div>\n//   )\n// }\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1280, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/components/Modal.js"],"sourcesContent":["// components/Modal.js\nimport React, { useEffect } from 'react'\n\nexport default function Modal({\n  title,\n  children,\n  onClose,\n  onConfirm,\n  confirmText = 'Ø­ÙØ¸',\n  cancelText = 'Ø¥Ù„ØºØ§Ø¡',\n  showFooter = true,\n  size = 'md', // sm | md | lg | xl\n}) {\n  const sizeClasses = {\n    sm: 'max-w-sm',\n    md: 'max-w-lg',\n    lg: 'max-w-3xl',\n    xl: 'max-w-5xl',\n  }\n\n  // ğŸ”¹ Ù…Ù†Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø£Ø«Ù†Ø§Ø¡ ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„\n  useEffect(() => {\n    document.body.classList.add('modal-open')\n    return () => document.body.classList.remove('modal-open')\n  }, [])\n\n  return (\n    <div\n      className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-[2px] px-4\"\n      dir=\"rtl\"\n      onClick={onClose}\n    >\n      <div\n        className={`relative w-full ${sizeClasses[size]} p-6 bg-white rounded-lg shadow-xl border border-gray-100 animate-fadeIn`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Ø±Ø£Ø³ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ */}\n        <div className=\"flex items-center justify-between pb-2 mb-4 border-b border-gray-100\">\n          <h2 className=\"text-lg font-semibold text-gray-800\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"text-2xl font-bold text-gray-400 transition hover:text-gray-600\"\n          >\n            Ã—\n          </button>\n        </div>\n\n        {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */}\n        <div className=\"max-h-[70vh] overflow-y-auto text-gray-700\">{children}</div>\n\n        {/* Ø§Ù„ØªØ°ÙŠÙŠÙ„ (Ø§Ù„Ø£Ø²Ø±Ø§Ø±) */}\n        {showFooter && (\n          <div className=\"flex justify-end gap-3 pt-4 mt-6 border-t border-gray-100\">\n            <button\n              onClick={onClose}\n              className=\"px-5 py-2 text-sm text-gray-700 border border-gray-200 rounded-md hover:bg-gray-50\"\n            >\n              {cancelText}\n            </button>\n\n            {onConfirm && (\n              <button\n                onClick={onConfirm}\n                className=\"px-5 py-2 text-sm text-white rounded-md shadow-sm bg-sky-600 hover:bg-sky-700\"\n              >\n                {confirmText}\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\n\n\n\n\n\n// // components/Modal.js\n// import React from 'react'\n\n// export default function Modal({\n//   title,\n//   children,\n//   onClose,\n//   onConfirm,\n//   confirmText = 'Ø­ÙØ¸',\n//   cancelText = 'Ø¥Ù„ØºØ§Ø¡',\n//   showFooter = true,\n//   size = 'md', // sm | md | lg\n// }) {\n//   const sizeClasses = {\n//     sm: 'max-w-sm',\n//     md: 'max-w-lg',\n//     lg: 'max-w-3xl',\n//   }\n\n//   return (\n//     <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 backdrop-blur-sm px-4\">\n//       <div\n//         className={`relative w-full ${sizeClasses[size]} p-6 bg-white rounded-lg shadow-xl animate-fadeIn`}\n//         dir=\"rtl\"\n//       >\n//         {/* Ø±Ø£Ø³ Ø§Ù„Ù†Ø§ÙØ°Ø© */}\n//         <div className=\"flex items-center justify-between pb-2 mb-4 border-b\">\n//           <h2 className=\"text-lg font-semibold text-gray-800\">{title}</h2>\n//           <button\n//             onClick={onClose}\n//             className=\"text-2xl font-bold text-gray-400 transition hover:text-gray-600\"\n//           >\n//             Ã—\n//           </button>\n//         </div>\n\n//         {/* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†Ø§ÙØ°Ø© */}\n//         <div className=\"max-h-[70vh] overflow-y-auto text-gray-700\">{children}</div>\n\n//         {/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */}\n//         {showFooter && (\n//           <div className=\"flex justify-end gap-3 pt-3 mt-6 border-t\">\n//             <button\n//               onClick={onClose}\n//               className=\"px-5 py-2 text-sm text-gray-600 border rounded-md hover:bg-gray-50\"\n//             >\n//               {cancelText}\n//             </button>\n//             {onConfirm && (\n//               <button\n//                 onClick={onConfirm}\n//                 className=\"px-5 py-2 text-sm text-white rounded-md bg-sky-600 hover:bg-sky-700\"\n//               >\n//                 {confirmText}\n//               </button>\n//             )}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   )\n// }\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;AACtB;;;AAEe,SAAS,MAAM,EAC5B,KAAK,EACL,QAAQ,EACR,OAAO,EACP,SAAS,EACT,cAAc,KAAK,EACnB,aAAa,OAAO,EACpB,aAAa,IAAI,EACjB,OAAO,IAAI,EACZ;IACC,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,mCAAmC;IACnC,IAAA,gHAAS,EAAC;QACR,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC5B,OAAO,IAAM,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IAC9C,GAAG,EAAE;IAEL,qBACE,qKAAC;QACC,WAAU;QACV,KAAI;QACJ,SAAS;kBAET,cAAA,qKAAC;YACC,WAAW,CAAC,gBAAgB,EAAE,WAAW,CAAC,KAAK,CAAC,wEAAwE,CAAC;YACzH,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAGjC,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,qKAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;8BAMH,qKAAC;oBAAI,WAAU;8BAA8C;;;;;;gBAG5D,4BACC,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BACC,SAAS;4BACT,WAAU;sCAET;;;;;;wBAGF,2BACC,qKAAC;4BACC,SAAS;4BACT,WAAU;sCAET;;;;;;;;;;;;;;;;;;;;;;;AAQjB,EAOA,yBAAyB;CACzB,4BAA4B;CAE5B,kCAAkC;CAClC,WAAW;CACX,cAAc;CACd,aAAa;CACb,eAAe;CACf,yBAAyB;CACzB,0BAA0B;CAC1B,uBAAuB;CACvB,iCAAiC;CACjC,OAAO;CACP,0BAA0B;CAC1B,sBAAsB;CACtB,sBAAsB;CACtB,uBAAuB;CACvB,MAAM;CAEN,aAAa;CACb,kHAAkH;CAClH,aAAa;CACb,8GAA8G;CAC9G,oBAAoB;CACpB,UAAU;CACV,8BAA8B;CAC9B,iFAAiF;CACjF,6EAA6E;CAC7E,oBAAoB;CACpB,gCAAgC;CAChC,0FAA0F;CAC1F,cAAc;CACd,gBAAgB;CAChB,sBAAsB;CACtB,iBAAiB;CAEjB,gCAAgC;CAChC,uFAAuF;CAEvF,+BAA+B;CAC/B,2BAA2B;CAC3B,wEAAwE;CACxE,sBAAsB;CACtB,kCAAkC;CAClC,+FAA+F;CAC/F,gBAAgB;CAChB,6BAA6B;CAC7B,wBAAwB;CACxB,8BAA8B;CAC9B,wBAAwB;CACxB,sCAAsC;CACtC,kGAAkG;CAClG,kBAAkB;CAClB,gCAAgC;CAChC,0BAA0B;CAC1B,iBAAiB;CACjB,mBAAmB;CACnB,aAAa;CACb,eAAe;CACf,aAAa;CACb,MAAM;CACN,IAAI","debugId":null}},
    {"offset": {"line": 1445, "column": 0}, "map": {"version":3,"sources":["file:///E:/pharmacy-system-v2/frontend/pages/pharmacist.js"],"sourcesContent":["// pages/pharmacist.js\nimport { useMemo, useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Layout from '../components/Layout';\nimport Modal from '../components/Modal';\nimport toast from 'react-hot-toast';\n\n// Ù†ÙØ³ Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„ÙƒØ§Ø´ÙŠØ±\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:5000/api';\n\nexport default function PharmacistPage() {\n  // ğŸ”¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ (ØªÙ‚Ø¯Ø± ØªØ±Ø¨Ø·Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø§Ù„Ù€ login ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ÙƒØ§Ø´ÙŠØ±)\n  const [user] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist', id: 2 });\n\n  const router = useRouter();\n  const today = new Date();\n\n  // ğŸ”¹ ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø©\n  const [activeTab, setActiveTab] = useState('medicines'); // medicines | sales | alerts\n\n  // ğŸ”¹ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©\n  const [medicines, setMedicines] = useState([]);\n\n  const [search, setSearch] = useState('');\n  const [companyFilter, setCompanyFilter] = useState('all');\n  const [stockFilter, setStockFilter] = useState('all'); // all | low | expired\n\n  // ğŸ”¹ Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\n  const [showSaleModal, setShowSaleModal] = useState(false);\n  const [saleForm, setSaleForm] = useState({ medId: '', qty: 1, price: 0 });\n\n  // ğŸ”¹ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ (ØªÙ‚Ø±ÙŠØ±)\n  const [sales, setSales] = useState([]);\n  const [dateRange, setDateRange] = useState('today'); // today | week | month | all\n\n  // ================== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø¨Ø§Ùƒ-Ø¥Ù†Ø¯ ==================\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const [medRes, salesRes] = await Promise.all([\n          fetch(`${API_BASE}/pharmacist/medicines`),\n          fetch(`${API_BASE}/pharmacist/sales`),\n        ]);\n\n        const medJson = await medRes.json();\n        const salesJson = await salesRes.json();\n\n        if (!medRes.ok || medJson.success === false) {\n          throw new Error(medJson.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©');\n        }\n        if (!salesRes.ok || salesJson.success === false) {\n          throw new Error(salesJson.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª');\n        }\n\n        const meds = Array.isArray(medJson.data || medJson)\n          ? medJson.data || medJson\n          : [];\n        const salesArr = Array.isArray(salesJson.data || salesJson)\n          ? salesJson.data || salesJson\n          : [];\n\n        setMedicines(meds);\n        setSales(salesArr);\n      } catch (err) {\n        console.error(err);\n        toast.error('âš ï¸ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø³ÙŠØ±ÙØ± Ø§Ù„ØµÙŠØ¯Ù„ÙŠ');\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // ================== Helpers ==================\n  const companies = useMemo(() => {\n    const set = new Set(medicines.map((m) => m.company).filter(Boolean));\n    return ['all', ...Array.from(set)];\n  }, [medicines]);\n\n  const lowStock = useMemo(\n    () => medicines.filter((m) => m.quantity <= (m.minQty || 5)),\n    [medicines]\n  );\n\n  const expired = useMemo(\n    () => medicines.filter((m) => new Date(m.expiry) < today),\n    [medicines, today]\n  );\n\n  const filteredMedicines = useMemo(() => {\n    const s = search.trim().toLowerCase();\n    return medicines.filter((m) => {\n      const matchText =\n        m.name.toLowerCase().includes(s) ||\n        (m.company || '').toLowerCase().includes(s) ||\n        (m.category || '').toLowerCase().includes(s) ||\n        (m.sku || '').toLowerCase().includes(s);\n\n      if (!matchText) return false;\n\n      const matchCompany =\n        companyFilter === 'all' ? true : m.company === companyFilter;\n\n      const isLow = m.quantity <= (m.minQty || 5);\n      const isExpired = new Date(m.expiry) < today;\n      const matchStock =\n        stockFilter === 'all'\n          ? true\n          : stockFilter === 'low'\n          ? isLow\n          : isExpired;\n\n      return matchCompany && matchStock;\n    });\n  }, [medicines, search, companyFilter, stockFilter, today]);\n\n  const formatCurrency = (v) =>\n    `${Number(v || 0).toLocaleString('ar-SA')} Ø±.Ø³`;\n\n  const withinRange = (dateStr) => {\n    if (!dateStr) return false;\n    const d = new Date(dateStr);\n    const oneDay = 24 * 60 * 60 * 1000;\n    const diff = (today - d) / oneDay;\n\n    if (dateRange === 'today') {\n      return d.toDateString() === today.toDateString();\n    }\n    if (dateRange === 'week') {\n      return diff >= 0 && diff <= 7;\n    }\n    if (dateRange === 'month') {\n      return diff >= 0 && diff <= 30;\n    }\n    if (dateRange === 'all') {\n      return true;\n    }\n    return true;\n  };\n\n  const filteredSales = useMemo(\n    () => sales.filter((s) => withinRange(s.date)),\n    [sales, dateRange]\n  );\n\n  const totalSalesValue = useMemo(\n    () => filteredSales.reduce((sum, s) => sum + s.qty * s.price, 0),\n    [filteredSales]\n  );\n\n  // ================== Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ==================\n  const openSaleModal = (medId) => {\n    const med = medicines.find((m) => m.id === medId);\n    if (!med) return;\n    setSaleForm({\n      medId,\n      qty: 1,\n      price: med.price || 0,\n    });\n    setShowSaleModal(true);\n  };\n\n  const submitSale = async () => {\n    const med = medicines.find((m) => m.id === Number(saleForm.medId));\n    if (!med) {\n      toast.error('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆØ§Ø¡ ØµØ­ÙŠØ­');\n      return;\n    }\n\n    const qty = Number(saleForm.qty);\n    const price = Number(saleForm.price || med.price);\n\n    if (!qty || qty <= 0) {\n      toast.error('âŒ Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± ØµØ§Ù„Ø­Ø©');\n      return;\n    }\n    if (qty > med.quantity) {\n      toast.error('âš ï¸ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…ØªØ§Ø­');\n      return;\n    }\n\n    try {\n      const res = await fetch(`${API_BASE}/pharmacist/sale`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          medicine_id: med.id,\n          qty,\n          price,\n          pharmacist_id: user.id || null,\n        }),\n      });\n\n      const data = await res.json();\n      if (!res.ok || data.success === false) {\n        throw new Error(data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹');\n      }\n\n      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\n      if (data.medicine) {\n        setMedicines((prev) =>\n          prev.map((m) =>\n            m.id === data.medicine.id\n              ? { ...m, quantity: data.medicine.quantity }\n              : m\n          )\n        );\n      } else {\n        // Ø§Ø­ØªÙŠØ§Ø·Ø§Ù‹ Ù„Ùˆ Ù…Ø§ Ø±Ø¬Ù‘Ø¹ Ø§Ù„Ø¯ÙˆØ§Ø¡\n        setMedicines((prev) =>\n          prev.map((m) =>\n            m.id === med.id ? { ...m, quantity: m.quantity - qty } : m\n          )\n        );\n      }\n\n      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n      if (data.sale) {\n        setSales((prev) => [data.sale, ...prev]);\n      } else {\n        const sale = {\n          id: Date.now(),\n          date: new Date().toISOString().slice(0, 10),\n          name: med.name,\n          qty,\n          price,\n        };\n        setSales((prev) => [sale, ...prev]);\n      }\n\n      toast.success(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ ${qty} Ù…Ù† ${med.name}`);\n      setShowSaleModal(false);\n    } catch (err) {\n      console.error(err);\n      toast.error(err.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ¹');\n    }\n  };\n\n  // ================== Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ==================\n  const handlePrintReport = () => {\n    const html = `\n      <html dir=\"rtl\" lang=\"ar\">\n        <head>\n          <meta charset=\"utf-8\" />\n          <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n          <style>\n            body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; }\n            h2 { color:#0ea5e9; margin-bottom: 8px; }\n            p { margin: 4px 0; }\n            table { width:100%; border-collapse: collapse; margin-top:10px; }\n            th, td { border:1px solid #ddd; padding:6px; text-align:center; font-size: 13px; }\n            th { background:#f3f4f6; }\n            tfoot td { font-weight:bold; color:#0ea5e9; }\n          </style>\n        </head>\n        <body>\n          <h2>ğŸ’Š ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</h2>\n          <p>Ø§Ù„Ù†Ø·Ø§Ù‚: ${\n            dateRange === 'today'\n              ? 'Ø§Ù„ÙŠÙˆÙ…'\n              : dateRange === 'week'\n              ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…'\n              : dateRange === 'month'\n              ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…'\n              : 'ÙƒÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª'\n          }</p>\n          <table>\n            <thead>\n              <tr>\n                <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n                <th>Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n                <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n                <th>Ø§Ù„Ø³Ø¹Ø±</th>\n                <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${\n                filteredSales.length\n                  ? filteredSales\n                      .map(\n                        (s) => `\n                        <tr>\n                          <td>${s.date}</td>\n                          <td>${s.name}</td>\n                          <td>${s.qty}</td>\n                          <td>${formatCurrency(s.price)}</td>\n                          <td>${formatCurrency(s.qty * s.price)}</td>\n                        </tr>`\n                      )\n                      .join('')\n                  : `<tr><td colspan=\"5\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø·Ø§Ù‚</td></tr>`\n              }\n            </tbody>\n            <tfoot>\n              <tr>\n                <td colspan=\"4\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</td>\n                <td>${formatCurrency(totalSalesValue)}</td>\n              </tr>\n            </tfoot>\n          </table>\n          <script>\n            window.onload = () => {\n              setTimeout(() => {\n                window.print();\n                setTimeout(() => window.close(), 800);\n              }, 300);\n            };\n          </script>\n        </body>\n      </html>\n    `;\n    const w = window.open('', '_blank', 'width=900,height=900');\n    if (!w) return;\n    w.document.write(html);\n    w.document.close();\n  };\n\n  // ================== UI ==================\n  return (\n    <Layout user={user} title=\"ğŸ’Š Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n      <div dir=\"rtl\" className=\"space-y-6\">\n        {/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† + ØªØ¨ÙˆÙŠØ¨Ø§Øª */}\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            <h1 className=\"text-xl font-bold text-gray-800\">\n              ğŸ‘¨â€âš•ï¸ Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ {user.name}\n            </h1>\n            <p className=\"text-sm text-gray-500\">\n              Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\n            </p>\n          </div>\n\n          <div className=\"inline-flex overflow-hidden border rounded-full bg-gray-50\">\n            <TabButton\n              label=\"Ø§Ù„Ø£Ø¯ÙˆÙŠØ©\"\n              active={activeTab === 'medicines'}\n              onClick={() => setActiveTab('medicines')}\n            />\n            <TabButton\n              label=\"Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\"\n              active={activeTab === 'sales'}\n              onClick={() => setActiveTab('sales')}\n            />\n            <TabButton\n              label=\"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª\"\n              active={activeTab === 'alerts'}\n              onClick={() => setActiveTab('alerts')}\n            />\n          </div>\n        </div>\n\n        {/* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ */}\n        {activeTab === 'medicines' && (\n          <MedicinesTab\n            medicines={filteredMedicines}\n            search={search}\n            setSearch={setSearch}\n            companies={companies}\n            companyFilter={companyFilter}\n            setCompanyFilter={setCompanyFilter}\n            stockFilter={stockFilter}\n            setStockFilter={setStockFilter}\n            openSaleModal={openSaleModal}\n            router={router}\n          />\n        )}\n\n        {activeTab === 'sales' && (\n          <SalesTab\n            dateRange={dateRange}\n            setDateRange={setDateRange}\n            filteredSales={filteredSales}\n            formatCurrency={formatCurrency}\n            totalSalesValue={totalSalesValue}\n            onPrint={handlePrintReport}\n          />\n        )}\n\n        {activeTab === 'alerts' && (\n          <AlertsTab lowStock={lowStock} expired={expired} />\n        )}\n      </div>\n\n      {/* Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ */}\n      {showSaleModal && (\n        <Modal\n          title=\"ğŸ§¾ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ Ù…Ù† Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\"\n          onClose={() => setShowSaleModal(false)}\n          onConfirm={submitSale}\n        >\n          <div dir=\"rtl\" className=\"space-y-3 text-sm\">\n            <div>\n              <label className=\"block mb-1 text-xs text-gray-500\">\n                Ø§Ù„Ø¯ÙˆØ§Ø¡\n              </label>\n              <select\n                value={saleForm.medId}\n                onChange={(e) =>\n                  setSaleForm((f) => ({\n                    ...f,\n                    medId: Number(e.target.value),\n                  }))\n                }\n                className=\"w-full px-3 py-2 border rounded-md\"\n              >\n                <option value=\"\">â€” Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ§Ø¡ â€”</option>\n                {medicines.map((m) => (\n                  <option key={m.id} value={m.id}>\n                    {m.name} â€” Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: {m.quantity}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n              <div>\n                <label className=\"block mb-1 text-xs text-gray-500\">\n                  Ø§Ù„ÙƒÙ…ÙŠØ©\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  value={saleForm.qty}\n                  onChange={(e) =>\n                    setSaleForm((f) => ({\n                      ...f,\n                      qty: Number(e.target.value),\n                    }))\n                  }\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                  placeholder=\"Ù…Ø«Ø§Ù„: 1\"\n                />\n              </div>\n              <div>\n                <label className=\"block mb-1 text-xs text-gray-500\">\n                  Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ÙˆØ­Ø¯Ø©\n                </label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={saleForm.price}\n                  onChange={(e) =>\n                    setSaleForm((f) => ({\n                      ...f,\n                      price: Number(e.target.value),\n                    }))\n                  }\n                  className=\"w-full px-3 py-2 border rounded-md\"\n                  placeholder=\"Ù…Ø«Ø§Ù„: 15\"\n                />\n              </div>\n            </div>\n\n            <div className=\"pt-2 text-sm text-right text-gray-600\">\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ:{' '}\n              <span className=\"font-semibold text-emerald-700\">\n                {formatCurrency(\n                  Number(saleForm.qty || 0) * Number(saleForm.price || 0)\n                )}\n              </span>\n            </div>\n          </div>\n        </Modal>\n      )}\n    </Layout>\n  );\n}\n\n// ================== ØªØ¨ÙˆÙŠØ¨Ø§Øª Ùˆ Ø£Ø¬Ø²Ø§Ø¡ UI ==================\nfunction TabButton({ label, active, onClick }) {\n  return (\n    <button\n      onClick={onClick}\n      className={`px-4 py-1.5 text-xs sm:text-sm font-medium transition ${\n        active\n          ? 'bg-white text-sky-600 shadow-sm'\n          : 'text-gray-500 hover:bg-white/60'\n      }`}\n    >\n      {label}\n    </button>\n  );\n}\n\nfunction MedicinesTab({\n  medicines,\n  search,\n  setSearch,\n  companies,\n  companyFilter,\n  setCompanyFilter,\n  stockFilter,\n  setStockFilter,\n  openSaleModal,\n  router,\n}) {\n  return (\n    <div className=\"space-y-4\">\n      {/* Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„Ø§ØªØ± */}\n      <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n        <div className=\"grid grid-cols-1 gap-3 md:grid-cols-4\">\n          <input\n            type=\"text\"\n            placeholder=\"ğŸ” Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ø´Ø±ÙƒØ© / Ø§Ù„ØªØµÙ†ÙŠÙ / Ø§Ù„ÙƒÙˆØ¯\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"w-full px-3 py-2 text-sm border rounded-md\"\n          />\n          <select\n            value={companyFilter}\n            onChange={(e) => setCompanyFilter(e.target.value)}\n            className=\"w-full px-3 py-2 text-sm border rounded-md\"\n          >\n            <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª</option>\n            {companies\n              .filter((c) => c !== 'all')\n              .map((c) => (\n                <option key={c} value={c}>\n                  {c}\n                </option>\n              ))}\n          </select>\n          <select\n            value={stockFilter}\n            onChange={(e) => setStockFilter(e.target.value)}\n            className=\"w-full px-3 py-2 text-sm border rounded-md\"\n          >\n            <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n            <option value=\"low\">ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©</option>\n            <option value=\"expired\">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</option>\n          </select>\n\n          <div className=\"flex items-center justify-end gap-2\">\n            <span className=\"hidden text-xs text-gray-500 sm:inline\">\n              Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©:\n            </span>\n            <span className=\"px-3 py-1 text-xs font-semibold rounded-full text-sky-700 bg-sky-50\">\n              {medicines.length}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n      <div className=\"overflow-x-auto bg-white border rounded-lg shadow-sm\">\n        <table className=\"w-full text-sm text-right min-w-[900px]\">\n          <thead className=\"text-gray-600 bg-gray-50\">\n            <tr>\n              <th className=\"px-3 py-2\">Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n              <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n              <th className=\"px-3 py-2\">Ø§Ù„ØªØµÙ†ÙŠÙ</th>\n              <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙˆØ¯</th>\n              <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n              <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n              <th className=\"px-3 py-2\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>\n              <th className=\"px-3 py-2 text-center\">Ø­Ø§Ù„Ø©</th>\n              <th className=\"px-3 py-2 text-center\">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n            </tr>\n          </thead>\n          <tbody>\n            {medicines.length ? (\n              medicines.map((m) => {\n                const isLow = m.quantity <= (m.minQty || 5);\n                const isExpired = new Date(m.expiry) < new Date();\n                return (\n                  <tr key={m.id} className=\"border-t hover:bg-gray-50\">\n                    <td className=\"px-3 py-2 font-semibold text-gray-800\">\n                      {m.name}\n                    </td>\n                    <td className=\"px-3 py-2 text-gray-700\">{m.company}</td>\n                    <td className=\"px-3 py-2 text-gray-700\">\n                      {m.category || '-'}\n                    </td>\n                    <td className=\"px-3 py-2 text-xs text-gray-500\">\n                      {m.sku || '-'}\n                    </td>\n                    <td className=\"px-3 py-2 font-semibold text-emerald-700\">\n                      {m.price} Ø±.Ø³\n                    </td>\n                    <td\n                      className={`px-3 py-2 ${\n                        isLow ? 'text-red-600 font-semibold' : ''\n                      }`}\n                    >\n                      {m.quantity}\n                    </td>\n                    <td className=\"px-3 py-2 text-xs text-gray-600\">\n                      {m.expiry}\n                    </td>\n                    <td className=\"px-3 py-2 text-center\">\n                      {isExpired ? (\n                        <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-red-700 bg-red-50 rounded-full\">\n                          Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\n                        </span>\n                      ) : isLow ? (\n                        <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-amber-700 bg-amber-50 rounded-full\">\n                          ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©\n                        </span>\n                      ) : (\n                        <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-emerald-700 bg-emerald-50 rounded-full\">\n                          Ù…ØªÙˆÙØ±\n                        </span>\n                      )}\n                    </td>\n                    <td className=\"px-3 py-2\">\n                      <div className=\"flex flex-wrap justify-center gap-2\">\n                        <button\n                          onClick={() => openSaleModal(m.id)}\n                          className=\"px-3 py-1 text-xs text-white rounded-md bg-emerald-600 hover:bg-emerald-700\"\n                        >\n                          ğŸ’¸ Ø¨ÙŠØ¹\n                        </button>\n                        <button\n                          onClick={() =>\n                            router.push(`/inventory?product=${m.id}`)\n                          }\n                          className=\"px-3 py-1 text-xs text-indigo-700 rounded-md bg-indigo-50 hover:bg-indigo-100\"\n                        >\n                          ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })\n            ) : (\n              <tr>\n                <td\n                  colSpan={9}\n                  className=\"px-3 py-6 text-sm text-center text-gray-500\"\n                >\n                  Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nfunction SalesTab({\n  dateRange,\n  setDateRange,\n  filteredSales,\n  formatCurrency,\n  totalSalesValue,\n  onPrint,\n}) {\n  return (\n    <div className=\"space-y-4\">\n      {/* ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® + Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */}\n      <div className=\"flex flex-col gap-3 p-4 bg-white border rounded-lg shadow-sm md:flex-row md:items-center md:justify-between\">\n        <div className=\"flex flex-wrap gap-2 text-xs sm:text-sm\">\n          <button\n            onClick={() => setDateRange('today')}\n            className={`px-3 py-1.5 rounded-full border ${\n              dateRange === 'today'\n                ? 'bg-sky-600 text-white border-sky-600'\n                : 'bg-white text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            Ø§Ù„ÙŠÙˆÙ…\n          </button>\n          <button\n            onClick={() => setDateRange('week')}\n            className={`px-3 py-1.5 rounded-full border ${\n              dateRange === 'week'\n                ? 'bg-sky-600 text-white border-sky-600'\n                : 'bg-white text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…\n          </button>\n          <button\n            onClick={() => setDateRange('month')}\n            className={`px-3 py-1.5 rounded-full border ${\n              dateRange === 'month'\n                ? 'bg-sky-600 text-white border-sky-600'\n                : 'bg-white text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            Ø¢Ø®Ø± 30 ÙŠÙˆÙ…\n          </button>\n          <button\n            onClick={() => setDateRange('all')}\n            className={`px-3 py-1.5 rounded-full border ${\n              dateRange === 'all'\n                ? 'bg-sky-600 text-white border-sky-600'\n                : 'bg-white text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            ÙƒÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n          </button>\n        </div>\n\n        <button\n          onClick={onPrint}\n          className=\"self-start px-4 py-2 text-xs text-white rounded-lg shadow-sm bg-emerald-600 sm:text-sm hover:bg-emerald-700\"\n        >\n          ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n        </button>\n      </div>\n\n      {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n      <div className=\"overflow-x-auto bg-white border rounded-lg shadow-sm\">\n        <table className=\"w-full text-sm text-right min-w-[700px]\">\n          <thead className=\"text-gray-600 bg-gray-50\">\n            <tr>\n              <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n              <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n              <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n              <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n              <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredSales.length ? (\n              filteredSales.map((s) => (\n                <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n                  <td className=\"px-3 py-2\">{s.date}</td>\n                  <td className=\"px-3 py-2\">{s.name}</td>\n                  <td className=\"px-3 py-2\">{s.qty}</td>\n                  <td className=\"px-3 py-2\">{formatCurrency(s.price)}</td>\n                  <td className=\"px-3 py-2 font-semibold text-sky-700\">\n                    {formatCurrency(s.qty * s.price)}\n                  </td>\n                </tr>\n              ))\n            ) : (\n              <tr>\n                <td\n                  colSpan={5}\n                  className=\"px-3 py-6 text-sm text-center text-gray-500\"\n                >\n                  Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø·Ø§Ù‚\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Ù…Ù„Ø®Øµ */}\n      <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-3\">\n        <SummaryCard\n          title=\"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\"\n          value={formatCurrency(totalSalesValue)}\n          color=\"text-emerald-600\"\n        />\n        <SummaryCard\n          title=\"Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª\"\n          value={filteredSales.length.toLocaleString('ar-SA')}\n          color=\"text-sky-600\"\n        />\n        <SummaryCard\n          title=\"Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\"\n          value={\n            filteredSales.length\n              ? formatCurrency(totalSalesValue / filteredSales.length)\n              : formatCurrency(0)\n          }\n          color=\"text-amber-600\"\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction AlertsTab({ lowStock, expired }) {\n  return (\n    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n      {/* ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© */}\n      <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n        <h3 className=\"flex items-center gap-2 mb-3 text-sm font-semibold text-amber-700\">\n          âš ï¸ Ø£Ø¯ÙˆÙŠØ© Ø¨ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©\n        </h3>\n        {lowStock.length ? (\n          <ul className=\"space-y-2 text-sm\">\n            {lowStock.map((m) => (\n              <li\n                key={m.id}\n                className=\"flex items-center justify-between px-3 py-2 border rounded-md\"\n              >\n                <div>\n                  <p className=\"font-semibold text-gray-800\">{m.name}</p>\n                  <p className=\"text-xs text-gray-500\">{m.company}</p>\n                </div>\n                <span className=\"px-2 py-0.5 text-xs font-semibold text-amber-700 bg-amber-50 rounded-full\">\n                  Ø§Ù„ÙƒÙ…ÙŠØ©: {m.quantity}\n                </span>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"text-sm text-gray-500\">\n            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ© Ø¨ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§ ğŸ‘Œ\n          </p>\n        )}\n      </div>\n\n      {/* Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© */}\n      <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n        <h3 className=\"flex items-center gap-2 mb-3 text-sm font-semibold text-red-700\">\n          âŒ Ø£Ø¯ÙˆÙŠØ© Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\n        </h3>\n        {expired.length ? (\n          <ul className=\"space-y-2 text-sm\">\n            {expired.map((m) => (\n              <li\n                key={m.id}\n                className=\"flex items-center justify-between px-3 py-2 border rounded-md\"\n              >\n                <div>\n                  <p className=\"font-semibold text-gray-800\">{m.name}</p>\n                  <p className=\"text-xs text-gray-500\">{m.company}</p>\n                </div>\n                <span className=\"px-2 py-0.5 text-xs font-semibold text-red-700 bg-red-50 rounded-full\">\n                  Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: {m.expiry}\n                </span>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className=\"text-sm text-gray-500\">\n            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ© Ù…Ù†ØªÙ‡ÙŠØ© Ø­Ø§Ù„ÙŠÙ‹Ø§ ğŸ‘Œ\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction SummaryCard({ title, value, color }) {\n  return (\n    <div className=\"p-4 text-center bg-white border rounded-lg shadow-sm\">\n      <p className=\"text-xs text-gray-500\">{title}</p>\n      <p className={`mt-1 text-xl font-bold sm:text-2xl ${color}`}>{value}</p>\n    </div>\n  );\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // pages/pharmacist.js\n// import { useMemo, useState } from 'react'\n// import { useRouter } from 'next/router'\n// import Layout from '../components/Layout'\n// import Modal from '../components/Modal'\n// import toast from 'react-hot-toast'\n\n// export default function PharmacistPage() {\n//   // ğŸ”¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\n//   const [user] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist' })\n\n//   // ğŸ”¹ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø´Ø§Ø´Ø©: Ø§Ù„Ø£Ø¯ÙˆÙŠØ© | Ù…Ø¨ÙŠØ¹Ø§Øª | ØªÙ†Ø¨ÙŠÙ‡Ø§Øª\n//   const [activeTab, setActiveTab] = useState('medicines') // medicines | sales | alerts\n\n//   // ğŸ”¹ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© (Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©)\n//   const [medicines, setMedicines] = useState([\n//     {\n//       id: 1,\n//       name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg',\n//       company: 'GSK',\n//       category: 'Ù…Ø³ÙƒÙ†Ø§Øª',\n//       price: 15,\n//       quantity: 10,\n//       minQty: 5,\n//       expiry: '2025-12-10',\n//       sku: 'MED-0001',\n//     },\n//     {\n//       id: 2,\n//       name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg',\n//       company: 'Pfizer',\n//       category: 'Ù…Ø¶Ø§Ø¯Ø§Øª Ø­ÙŠÙˆÙŠØ©',\n//       price: 25,\n//       quantity: 3,\n//       minQty: 5,\n//       expiry: '2024-06-02',\n//       sku: 'MED-0002',\n//     },\n//     {\n//       id: 3,\n//       name: 'Ø§ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ† 400mg',\n//       company: 'Novartis',\n//       category: 'Ù…Ø³ÙƒÙ†Ø§Øª',\n//       price: 18,\n//       quantity: 2,\n//       minQty: 5,\n//       expiry: '2023-12-30',\n//       sku: 'MED-0003',\n//     },\n//     {\n//       id: 4,\n//       name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯ 1000IU',\n//       company: 'GSK',\n//       category: 'ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª',\n//       price: 22,\n//       quantity: 20,\n//       minQty: 5,\n//       expiry: '2026-03-15',\n//       sku: 'MED-0004',\n//     },\n//   ])\n\n//   const [search, setSearch] = useState('')\n//   const [companyFilter, setCompanyFilter] = useState('all')\n//   const [stockFilter, setStockFilter] = useState('all') // all | low | expired\n\n//   // ğŸ”¹ Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\n//   const [showSaleModal, setShowSaleModal] = useState(false)\n//   const [saleForm, setSaleForm] = useState({ medId: '', qty: 1, price: 0 })\n\n//   // ğŸ”¹ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ (ØªÙ‚Ø±ÙŠØ± Ø¨Ø³ÙŠØ·)\n//   const [sales, setSales] = useState([\n//     { id: 1, date: '2025-11-17', name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', qty: 2, price: 15 },\n//     { id: 2, date: '2025-11-17', name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯ 1000IU', qty: 1, price: 22 },\n//     { id: 3, date: '2025-11-16', name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', qty: 1, price: 25 },\n//   ])\n//   const [dateRange, setDateRange] = useState('today') // today | week | month | all\n\n//   const router = useRouter()\n//   const today = new Date()\n\n//   // ================== Helpers ==================\n//   const companies = useMemo(() => {\n//     const set = new Set(medicines.map((m) => m.company).filter(Boolean))\n//     return ['all', ...Array.from(set)]\n//   }, [medicines])\n\n//   const lowStock = useMemo(\n//     () => medicines.filter((m) => m.quantity <= (m.minQty || 5)),\n//     [medicines]\n//   )\n\n//   const expired = useMemo(\n//     () => medicines.filter((m) => new Date(m.expiry) < today),\n//     [medicines, today]\n//   )\n\n//   const filteredMedicines = useMemo(() => {\n//     const s = search.trim().toLowerCase()\n//     return medicines.filter((m) => {\n//       const matchText =\n//         m.name.toLowerCase().includes(s) ||\n//         m.company.toLowerCase().includes(s) ||\n//         (m.category || '').toLowerCase().includes(s) ||\n//         (m.sku || '').toLowerCase().includes(s)\n\n//       if (!matchText) return false\n\n//       const matchCompany =\n//         companyFilter === 'all' ? true : m.company === companyFilter\n\n//       const isLow = m.quantity <= (m.minQty || 5)\n//       const isExpired = new Date(m.expiry) < today\n//       const matchStock =\n//         stockFilter === 'all'\n//           ? true\n//           : stockFilter === 'low'\n//           ? isLow\n//           : isExpired\n\n//       return matchCompany && matchStock\n//     })\n//   }, [medicines, search, companyFilter, stockFilter, today])\n\n//   const formatCurrency = (v) =>\n//     `${Number(v || 0).toLocaleString('ar-SA')} Ø±.Ø³`\n\n//   const withinRange = (dateStr) => {\n//     if (!dateStr) return false\n//     const d = new Date(dateStr)\n//     const oneDay = 24 * 60 * 60 * 1000\n//     const diff = (today - d) / oneDay\n\n//     if (dateRange === 'today') {\n//       return d.toDateString() === today.toDateString()\n//     }\n//     if (dateRange === 'week') {\n//       return diff >= 0 && diff <= 7\n//     }\n//     if (dateRange === 'month') {\n//       return diff >= 0 && diff <= 30\n//     }\n//     if (dateRange === 'all') {\n//       return true\n//     }\n//     return true\n//   }\n\n//   const filteredSales = useMemo(\n//     () => sales.filter((s) => withinRange(s.date)),\n//     [sales, dateRange]\n//   )\n\n//   const totalSalesValue = useMemo(\n//     () => filteredSales.reduce((sum, s) => sum + s.qty * s.price, 0),\n//     [filteredSales]\n//   )\n\n//   // ================== Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ==================\n//   const openSaleModal = (medId) => {\n//     const med = medicines.find((m) => m.id === medId)\n//     if (!med) return\n//     setSaleForm({\n//       medId,\n//       qty: 1,\n//       price: med.price || 0,\n//     })\n//     setShowSaleModal(true)\n//   }\n\n//   const submitSale = () => {\n//     const med = medicines.find((m) => m.id === Number(saleForm.medId))\n//     if (!med) {\n//       toast.error('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆØ§Ø¡ ØµØ­ÙŠØ­')\n//       return\n//     }\n\n//     const qty = Number(saleForm.qty)\n//     const price = Number(saleForm.price || med.price)\n\n//     if (!qty || qty <= 0) {\n//       toast.error('âŒ Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± ØµØ§Ù„Ø­Ø©')\n//       return\n//     }\n//     if (qty > med.quantity) {\n//       toast.error('âš ï¸ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…ØªØ§Ø­')\n//       return\n//     }\n\n//     // Ø®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Ø¯Ø§Ø®Ù„ Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ÙÙ‚Ø· Ø§Ù„Ø¢Ù†)\n//     const updated = medicines.map((m) =>\n//       m.id === med.id ? { ...m, quantity: m.quantity - qty } : m\n//     )\n//     setMedicines(updated)\n\n//     // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ (ØªÙ‚Ø±ÙŠØ± Ø¨Ø³ÙŠØ·)\n//     const sale = {\n//       id: sales.length ? sales[sales.length - 1].id + 1 : 1,\n//       date: new Date().toISOString().slice(0, 10),\n//       name: med.name,\n//       qty,\n//       price,\n//     }\n//     setSales([sale, ...sales])\n\n//     toast.success(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ ${qty} Ù…Ù† ${med.name}`)\n//     setShowSaleModal(false)\n//   }\n\n//   // ================== Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ==================\n//   const handlePrintReport = () => {\n//     const html = `\n//       <html dir=\"rtl\" lang=\"ar\">\n//         <head>\n//           <meta charset=\"utf-8\" />\n//           <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n//           <style>\n//             body { font-family: 'Tajawal', sans-serif; padding: 20px; direction: rtl; }\n//             h2 { color:#0ea5e9; margin-bottom: 8px; }\n//             p { margin: 4px 0; }\n//             table { width:100%; border-collapse: collapse; margin-top:10px; }\n//             th, td { border:1px solid #ddd; padding:6px; text-align:center; font-size: 13px; }\n//             th { background:#f3f4f6; }\n//             tfoot td { font-weight:bold; color:#0ea5e9; }\n//           </style>\n//         </head>\n//         <body>\n//           <h2>ğŸ’Š ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</h2>\n//           <p>Ø§Ù„Ù†Ø·Ø§Ù‚: ${\n//             dateRange === 'today'\n//               ? 'Ø§Ù„ÙŠÙˆÙ…'\n//               : dateRange === 'week'\n//               ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…'\n//               : dateRange === 'month'\n//               ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…'\n//               : 'ÙƒÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª'\n//           }</p>\n//           <table>\n//             <thead>\n//               <tr>\n//                 <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                 <th>Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                 <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                 <th>Ø§Ù„Ø³Ø¹Ø±</th>\n//                 <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               ${\n//                 filteredSales.length\n//                   ? filteredSales\n//                       .map(\n//                         (s) => `\n//                         <tr>\n//                           <td>${s.date}</td>\n//                           <td>${s.name}</td>\n//                           <td>${s.qty}</td>\n//                           <td>${formatCurrency(s.price)}</td>\n//                           <td>${formatCurrency(s.qty * s.price)}</td>\n//                         </tr>`\n//                       )\n//                       .join('')\n//                   : `<tr><td colspan=\"5\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø·Ø§Ù‚</td></tr>`\n//               }\n//             </tbody>\n//             <tfoot>\n//               <tr>\n//                 <td colspan=\"4\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</td>\n//                 <td>${formatCurrency(totalSalesValue)}</td>\n//               </tr>\n//             </tfoot>\n//           </table>\n//           <script>\n//             window.onload = () => {\n//               setTimeout(() => {\n//                 window.print();\n//                 setTimeout(() => window.close(), 800);\n//               }, 300);\n//             };\n//           </script>\n//         </body>\n//       </html>\n//     `\n//     const w = window.open('', '_blank', 'width=900,height=900')\n//     if (!w) return\n//     w.document.write(html)\n//     w.document.close()\n//   }\n\n//   // ================== UI ==================\n//   return (\n//     <Layout user={user} title=\"ğŸ’Š Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n//       <div dir=\"rtl\" className=\"space-y-6\">\n//         {/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† + ØªØ¨ÙˆÙŠØ¨Ø§Øª */}\n//         <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n//           <div>\n//             <h1 className=\"text-xl font-bold text-gray-800\">\n//               ğŸ‘¨â€âš•ï¸ Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ {user.name}\n//             </h1>\n//             <p className=\"text-sm text-gray-500\">\n//               Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…Ù† Ø´Ø§Ø´Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\n//             </p>\n//           </div>\n\n//           <div className=\"inline-flex overflow-hidden border rounded-full bg-gray-50\">\n//             <TabButton\n//               label=\"Ø§Ù„Ø£Ø¯ÙˆÙŠØ©\"\n//               active={activeTab === 'medicines'}\n//               onClick={() => setActiveTab('medicines')}\n//             />\n//             <TabButton\n//               label=\"Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\"\n//               active={activeTab === 'sales'}\n//               onClick={() => setActiveTab('sales')}\n//             />\n//             <TabButton\n//               label=\"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª\"\n//               active={activeTab === 'alerts'}\n//               onClick={() => setActiveTab('alerts')}\n//             />\n//           </div>\n//         </div>\n\n//         {/* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ */}\n//         {activeTab === 'medicines' && (\n//           <MedicinesTab\n//             medicines={filteredMedicines}\n//             search={search}\n//             setSearch={setSearch}\n//             companies={companies}\n//             companyFilter={companyFilter}\n//             setCompanyFilter={setCompanyFilter}\n//             stockFilter={stockFilter}\n//             setStockFilter={setStockFilter}\n//             openSaleModal={openSaleModal}\n//             router={router}\n//           />\n//         )}\n\n//         {activeTab === 'sales' && (\n//           <SalesTab\n//             dateRange={dateRange}\n//             setDateRange={setDateRange}\n//             filteredSales={filteredSales}\n//             formatCurrency={formatCurrency}\n//             totalSalesValue={totalSalesValue}\n//             onPrint={handlePrintReport}\n//           />\n//         )}\n\n//         {activeTab === 'alerts' && (\n//           <AlertsTab lowStock={lowStock} expired={expired} />\n//         )}\n//       </div>\n\n//       {/* Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ */}\n//       {showSaleModal && (\n//         <Modal\n//           title=\"ğŸ§¾ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ Ù…Ù† Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\"\n//           onClose={() => setShowSaleModal(false)}\n//           onConfirm={submitSale}\n//         >\n//           <div dir=\"rtl\" className=\"space-y-3 text-sm\">\n//             <div>\n//               <label className=\"block mb-1 text-xs text-gray-500\">\n//                 Ø§Ù„Ø¯ÙˆØ§Ø¡\n//               </label>\n//               <select\n//                 value={saleForm.medId}\n//                 onChange={(e) =>\n//                   setSaleForm((f) => ({\n//                     ...f,\n//                     medId: Number(e.target.value),\n//                   }))\n//                 }\n//                 className=\"w-full px-3 py-2 border rounded-md\"\n//               >\n//                 <option value=\"\">â€” Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ§Ø¡ â€”</option>\n//                 {medicines.map((m) => (\n//                   <option key={m.id} value={m.id}>\n//                     {m.name} â€” Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: {m.quantity}\n//                   </option>\n//                 ))}\n//               </select>\n//             </div>\n\n//             <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-2\">\n//               <div>\n//                 <label className=\"block mb-1 text-xs text-gray-500\">\n//                   Ø§Ù„ÙƒÙ…ÙŠØ©\n//                 </label>\n//                 <input\n//                   type=\"number\"\n//                   min=\"1\"\n//                   value={saleForm.qty}\n//                   onChange={(e) =>\n//                     setSaleForm((f) => ({\n//                       ...f,\n//                       qty: Number(e.target.value),\n//                     }))\n//                   }\n//                   className=\"w-full px-3 py-2 border rounded-md\"\n//                   placeholder=\"Ù…Ø«Ø§Ù„: 1\"\n//                 />\n//               </div>\n//               <div>\n//                 <label className=\"block mb-1 text-xs text-gray-500\">\n//                   Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ÙˆØ­Ø¯Ø©\n//                 </label>\n//                 <input\n//                   type=\"number\"\n//                   min=\"0\"\n//                   value={saleForm.price}\n//                   onChange={(e) =>\n//                     setSaleForm((f) => ({\n//                       ...f,\n//                       price: Number(e.target.value),\n//                     }))\n//                   }\n//                   className=\"w-full px-3 py-2 border rounded-md\"\n//                   placeholder=\"Ù…Ø«Ø§Ù„: 15\"\n//                 />\n//               </div>\n//             </div>\n\n//             <div className=\"pt-2 text-sm text-right text-gray-600\">\n//               Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ:{' '}\n//               <span className=\"font-semibold text-emerald-700\">\n//                 {formatCurrency(\n//                   Number(saleForm.qty || 0) * Number(saleForm.price || 0)\n//                 )}\n//               </span>\n//             </div>\n//           </div>\n//         </Modal>\n//       )}\n//     </Layout>\n//   )\n// }\n\n// // ================== ØªØ¨ÙˆÙŠØ¨Ø§Øª Ùˆ Ø£Ø¬Ø²Ø§Ø¡ UI ==================\n// function TabButton({ label, active, onClick }) {\n//   return (\n//     <button\n//       onClick={onClick}\n//       className={`px-4 py-1.5 text-xs sm:text-sm font-medium transition ${\n//         active\n//           ? 'bg-white text-sky-600 shadow-sm'\n//           : 'text-gray-500 hover:bg-white/60'\n//       }`}\n//     >\n//       {label}\n//     </button>\n//   )\n// }\n\n// function MedicinesTab({\n//   medicines,\n//   search,\n//   setSearch,\n//   companies,\n//   companyFilter,\n//   setCompanyFilter,\n//   stockFilter,\n//   setStockFilter,\n//   openSaleModal,\n//   router,\n// }) {\n//   return (\n//     <div className=\"space-y-4\">\n//       {/* Ø´Ø±ÙŠØ· Ø§Ù„ÙÙ„Ø§ØªØ± */}\n//       <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//         <div className=\"grid grid-cols-1 gap-3 md:grid-cols-4\">\n//           <input\n//             type=\"text\"\n//             placeholder=\"ğŸ” Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… / Ø§Ù„Ø´Ø±ÙƒØ© / Ø§Ù„ØªØµÙ†ÙŠÙ / Ø§Ù„ÙƒÙˆØ¯\"\n//             value={search}\n//             onChange={(e) => setSearch(e.target.value)}\n//             className=\"w-full px-3 py-2 text-sm border rounded-md\"\n//           />\n//           <select\n//             value={companyFilter}\n//             onChange={(e) => setCompanyFilter(e.target.value)}\n//             className=\"w-full px-3 py-2 text-sm border rounded-md\"\n//           >\n//             <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª</option>\n//             {companies\n//               .filter((c) => c !== 'all')\n//               .map((c) => (\n//                 <option key={c} value={c}>\n//                   {c}\n//                 </option>\n//               ))}\n//           </select>\n//           <select\n//             value={stockFilter}\n//             onChange={(e) => setStockFilter(e.target.value)}\n//             className=\"w-full px-3 py-2 text-sm border rounded-md\"\n//           >\n//             <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n//             <option value=\"low\">ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©</option>\n//             <option value=\"expired\">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</option>\n//           </select>\n\n//           <div className=\"flex items-center justify-end gap-2\">\n//             <span className=\"hidden text-xs text-gray-500 sm:inline\">\n//               Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©:\n//             </span>\n//             <span className=\"px-3 py-1 text-xs font-semibold rounded-full text-sky-700 bg-sky-50\">\n//               {medicines.length}\n//             </span>\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//       <div className=\"overflow-x-auto bg-white border rounded-lg shadow-sm\">\n//         <table className=\"w-full text-sm text-right min-w-[900px]\">\n//           <thead className=\"text-gray-600 bg-gray-50\">\n//             <tr>\n//               <th className=\"px-3 py-2\">Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„ØªØµÙ†ÙŠÙ</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙˆØ¯</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>\n//               <th className=\"px-3 py-2 text-center\">Ø­Ø§Ù„Ø©</th>\n//               <th className=\"px-3 py-2 text-center\">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {medicines.length ? (\n//               medicines.map((m) => {\n//                 const isLow = m.quantity <= (m.minQty || 5)\n//                 const isExpired = new Date(m.expiry) < new Date()\n//                 return (\n//                   <tr key={m.id} className=\"border-t hover:bg-gray-50\">\n//                     <td className=\"px-3 py-2 font-semibold text-gray-800\">\n//                       {m.name}\n//                     </td>\n//                     <td className=\"px-3 py-2 text-gray-700\">{m.company}</td>\n//                     <td className=\"px-3 py-2 text-gray-700\">\n//                       {m.category || '-'}\n//                     </td>\n//                     <td className=\"px-3 py-2 text-xs text-gray-500\">\n//                       {m.sku || '-'}\n//                     </td>\n//                     <td className=\"px-3 py-2 font-semibold text-emerald-700\">\n//                       {m.price} Ø±.Ø³\n//                     </td>\n//                     <td\n//                       className={`px-3 py-2 ${\n//                         isLow ? 'text-red-600 font-semibold' : ''\n//                       }`}\n//                     >\n//                       {m.quantity}\n//                     </td>\n//                     <td className=\"px-3 py-2 text-xs text-gray-600\">\n//                       {m.expiry}\n//                     </td>\n//                     <td className=\"px-3 py-2 text-center\">\n//                       {isExpired ? (\n//                         <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-red-700 bg-red-50 rounded-full\">\n//                           Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\n//                         </span>\n//                       ) : isLow ? (\n//                         <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-amber-700 bg-amber-50 rounded-full\">\n//                           ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©\n//                         </span>\n//                       ) : (\n//                         <span className=\"inline-flex px-2 py-0.5 text-xs font-semibold text-emerald-700 bg-emerald-50 rounded-full\">\n//                           Ù…ØªÙˆÙØ±\n//                         </span>\n//                       )}\n//                     </td>\n//                     <td className=\"px-3 py-2\">\n//                       <div className=\"flex flex-wrap justify-center gap-2\">\n//                         <button\n//                           onClick={() => openSaleModal(m.id)}\n//                           className=\"px-3 py-1 text-xs text-white rounded-md bg-emerald-600 hover:bg-emerald-700\"\n//                         >\n//                           ğŸ’¸ Ø¨ÙŠØ¹\n//                         </button>\n//                         <button\n//                           onClick={() =>\n//                             router.push(`/inventory?product=${m.id}`)\n//                           }\n//                           className=\"px-3 py-1 text-xs text-indigo-700 rounded-md bg-indigo-50 hover:bg-indigo-100\"\n//                         >\n//                           ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\n//                         </button>\n//                       </div>\n//                     </td>\n//                   </tr>\n//                 )\n//               })\n//             ) : (\n//               <tr>\n//                 <td\n//                   colSpan={9}\n//                   className=\"px-3 py-6 text-sm text-center text-gray-500\"\n//                 >\n//                   Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©\n//                 </td>\n//               </tr>\n//             )}\n//           </tbody>\n//         </table>\n//       </div>\n//     </div>\n//   )\n// }\n\n// function SalesTab({\n//   dateRange,\n//   setDateRange,\n//   filteredSales,\n//   formatCurrency,\n//   totalSalesValue,\n//   onPrint,\n// }) {\n//   return (\n//     <div className=\"space-y-4\">\n//       {/* ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® + Ø²Ø± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© */}\n//       <div className=\"flex flex-col gap-3 p-4 bg-white border rounded-lg shadow-sm md:flex-row md:items-center md:justify-between\">\n//         <div className=\"flex flex-wrap gap-2 text-xs sm:text-sm\">\n//           <button\n//             onClick={() => setDateRange('today')}\n//             className={`px-3 py-1.5 rounded-full border ${\n//               dateRange === 'today'\n//                 ? 'bg-sky-600 text-white border-sky-600'\n//                 : 'bg-white text-gray-600 hover:bg-gray-50'\n//             }`}\n//           >\n//             Ø§Ù„ÙŠÙˆÙ…\n//           </button>\n//           <button\n//             onClick={() => setDateRange('week')}\n//             className={`px-3 py-1.5 rounded-full border ${\n//               dateRange === 'week'\n//                 ? 'bg-sky-600 text-white border-sky-600'\n//                 : 'bg-white text-gray-600 hover:bg-gray-50'\n//             }`}\n//           >\n//             Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…\n//           </button>\n//           <button\n//             onClick={() => setDateRange('month')}\n//             className={`px-3 py-1.5 rounded-full border ${\n//               dateRange === 'month'\n//                 ? 'bg-sky-600 text-white border-sky-600'\n//                 : 'bg-white text-gray-600 hover:bg-gray-50'\n//             }`}\n//           >\n//             Ø¢Ø®Ø± 30 ÙŠÙˆÙ…\n//           </button>\n//           <button\n//             onClick={() => setDateRange('all')}\n//             className={`px-3 py-1.5 rounded-full border ${\n//               dateRange === 'all'\n//                 ? 'bg-sky-600 text-white border-sky-600'\n//                 : 'bg-white text-gray-600 hover:bg-gray-50'\n//             }`}\n//           >\n//             ÙƒÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n//           </button>\n//         </div>\n\n//         <button\n//           onClick={onPrint}\n//           className=\"self-start px-4 py-2 text-xs text-white rounded-lg shadow-sm bg-emerald-600 sm:text-sm hover:bg-emerald-700\"\n//         >\n//           ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n//         </button>\n//       </div>\n\n//       {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//       <div className=\"overflow-x-auto bg-white border rounded-lg shadow-sm\">\n//         <table className=\"w-full text-sm text-right min-w-[700px]\">\n//           <thead className=\"text-gray-600 bg-gray-50\">\n//             <tr>\n//               <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//               <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//               <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {filteredSales.length ? (\n//               filteredSales.map((s) => (\n//                 <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n//                   <td className=\"px-3 py-2\">{s.date}</td>\n//                   <td className=\"px-3 py-2\">{s.name}</td>\n//                   <td className=\"px-3 py-2\">{s.qty}</td>\n//                   <td className=\"px-3 py-2\">{formatCurrency(s.price)}</td>\n//                   <td className=\"px-3 py-2 font-semibold text-sky-700\">\n//                     {formatCurrency(s.qty * s.price)}\n//                   </td>\n//                 </tr>\n//               ))\n//             ) : (\n//               <tr>\n//                 <td\n//                   colSpan={5}\n//                   className=\"px-3 py-6 text-sm text-center text-gray-500\"\n//                 >\n//                   Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø·Ø§Ù‚\n//                 </td>\n//               </tr>\n//             )}\n//           </tbody>\n//         </table>\n//       </div>\n\n//       {/* Ù…Ù„Ø®Øµ */}\n//       <div className=\"grid grid-cols-1 gap-3 sm:grid-cols-3\">\n//         <SummaryCard\n//           title=\"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\"\n//           value={formatCurrency(totalSalesValue)}\n//           color=\"text-emerald-600\"\n//         />\n//         <SummaryCard\n//           title=\"Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª\"\n//           value={filteredSales.length.toLocaleString('ar-SA')}\n//           color=\"text-sky-600\"\n//         />\n//         <SummaryCard\n//           title=\"Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\"\n//           value={\n//             filteredSales.length\n//               ? formatCurrency(totalSalesValue / filteredSales.length)\n//               : formatCurrency(0)\n//           }\n//           color=\"text-amber-600\"\n//         />\n//       </div>\n//     </div>\n//   )\n// }\n\n// function AlertsTab({ lowStock, expired }) {\n//   return (\n//     <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\n//       {/* ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© */}\n//       <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//         <h3 className=\"flex items-center gap-2 mb-3 text-sm font-semibold text-amber-700\">\n//           âš ï¸ Ø£Ø¯ÙˆÙŠØ© Ø¨ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©\n//         </h3>\n//         {lowStock.length ? (\n//           <ul className=\"space-y-2 text-sm\">\n//             {lowStock.map((m) => (\n//               <li\n//                 key={m.id}\n//                 className=\"flex items-center justify-between px-3 py-2 border rounded-md\"\n//               >\n//                 <div>\n//                   <p className=\"font-semibold text-gray-800\">{m.name}</p>\n//                   <p className=\"text-xs text-gray-500\">{m.company}</p>\n//                 </div>\n//                 <span className=\"px-2 py-0.5 text-xs font-semibold text-amber-700 bg-amber-50 rounded-full\">\n//                   Ø§Ù„ÙƒÙ…ÙŠØ©: {m.quantity}\n//                 </span>\n//               </li>\n//             ))}\n//           </ul>\n//         ) : (\n//           <p className=\"text-sm text-gray-500\">\n//             Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ© Ø¨ÙƒÙ…ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§ ğŸ‘Œ\n//           </p>\n//         )}\n//       </div>\n\n//       {/* Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© */}\n//       <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//         <h3 className=\"flex items-center gap-2 mb-3 text-sm font-semibold text-red-700\">\n//           âŒ Ø£Ø¯ÙˆÙŠØ© Ù…Ù†ØªÙ‡ÙŠØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©\n//         </h3>\n//         {expired.length ? (\n//           <ul className=\"space-y-2 text-sm\">\n//             {expired.map((m) => (\n//               <li\n//                 key={m.id}\n//                 className=\"flex items-center justify-between px-3 py-2 border rounded-md\"\n//               >\n//                 <div>\n//                   <p className=\"font-semibold text-gray-800\">{m.name}</p>\n//                   <p className=\"text-xs text-gray-500\">{m.company}</p>\n//                 </div>\n//                 <span className=\"px-2 py-0.5 text-xs font-semibold text-red-700 bg-red-50 rounded-full\">\n//                   Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: {m.expiry}\n//                 </span>\n//               </li>\n//             ))}\n//           </ul>\n//         ) : (\n//           <p className=\"text-sm text-gray-500\">\n//             Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¯ÙˆÙŠØ© Ù…Ù†ØªÙ‡ÙŠØ© Ø­Ø§Ù„ÙŠÙ‹Ø§ ğŸ‘Œ\n//           </p>\n//         )}\n//       </div>\n//     </div>\n//   )\n// }\n\n// function SummaryCard({ title, value, color }) {\n//   return (\n//     <div className=\"p-4 text-center bg-white border rounded-lg shadow-sm\">\n//       <p className=\"text-xs text-gray-500\">{title}</p>\n//       <p className={`mt-1 text-xl font-bold sm:text-2xl ${color}`}>{value}</p>\n//     </div>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // pages/pharmacist.js\n// import { useState, useEffect, useMemo, useRef } from 'react'\n// import Layout from '../components/Layout'\n// import Modal from '../components/Modal'\n// import theme from '../theme'\n// import toast from 'react-hot-toast'\n\n// export default function Pharmacist() {\n//   const [user] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist' })\n//   const [medicines, setMedicines] = useState([])\n//   const [search, setSearch] = useState('')\n//   const [adv, setAdv] = useState({ company: '', minQty: '', maxQty: '', minPrice: '', maxPrice: '', expiryBefore: '' })\n//   const [sales, setSales] = useState([])\n//   const [showAddModal, setShowAddModal] = useState(false)\n//   const [showSalesReport, setShowSalesReport] = useState(false)\n//   const reportRef = useRef(null)\n\n//   const [newMedicine, setNewMedicine] = useState({ name: '', company: '', price: '', quantity: '', expiry: '' })\n\n//   useEffect(() => {\n//   const token = localStorage.getItem(\"pharmacy_token\")\n//   if (!token) {\n//     router.replace(\"/\")   // redirect to login\n//   }\n// }, [])\n\n\n//   useEffect(() => {\n//     const mock = [\n//       { id: 1, name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', company: 'GSK', price: 15, quantity: 10, expiry: '2025-12-10' },\n//       { id: 2, name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', company: 'Pfizer', price: 25, quantity: 3, expiry: '2024-06-02' },\n//       { id: 3, name: 'Ø§ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ† 400mg', company: 'Novartis', price: 18, quantity: 2, expiry: '2023-12-30' },\n//       { id: 4, name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø¯ 1000IU', company: 'GSK', price: 22, quantity: 20, expiry: '2026-03-15' },\n//     ]\n//     setMedicines(mock)\n\n//     setSales([\n//       { id: 1, date: '2025-11-02', name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', qty: 5, price: 15 },\n//       { id: 2, date: '2025-11-02', name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', qty: 2, price: 25 },\n//       { id: 3, date: '2025-11-01', name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', qty: 3, price: 45 },\n//     ])\n//   }, [])\n\n//   const filtered = useMemo(() => {\n//     return medicines.filter((m) => {\n//       const txt = (m.name + ' ' + m.company).toLowerCase().includes(search.toLowerCase())\n//       if (!txt) return false\n//       if (adv.company && m.company !== adv.company) return false\n//       if (adv.minQty && m.quantity < Number(adv.minQty)) return false\n//       if (adv.maxQty && m.quantity > Number(adv.maxQty)) return false\n//       if (adv.minPrice && m.price < Number(adv.minPrice)) return false\n//       if (adv.maxPrice && m.price > Number(adv.maxPrice)) return false\n//       if (adv.expiryBefore && new Date(m.expiry) > new Date(adv.expiryBefore)) return false\n//       return true\n//     })\n//   }, [medicines, search, adv])\n\n//   const sell = (m) => {\n//     const qty = Number(prompt(`ÙƒÙ…ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† \"${m.name}\"ØŸ`, 1) || 0)\n//     if (!qty || qty < 1) return\n//     if (qty > m.quantity) return toast.error('Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± Ù…ØªØ§Ø­Ø©')\n//     // Ø®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\n//     setMedicines(prev => prev.map(x => x.id === m.id ? { ...x, quantity: x.quantity - qty } : x))\n//     // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\n//     const today = new Date().toISOString().slice(0, 10)\n//     const sale = { id: Date.now(), date: today, name: m.name, qty, price: m.price }\n//     setSales(prev => [sale, ...prev])\n//     toast.success('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹')\n//   }\n\n//   const addMedicine = () => {\n//     const { name, company, price, quantity, expiry } = newMedicine\n//     if (!name || !company || !price || !quantity || !expiry) {\n//       toast.error('Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„')\n//       return\n//     }\n//     setMedicines(prev => [{ id: Date.now(), name, company, price: Number(price), quantity: Number(quantity), expiry }, ...prev])\n//     setNewMedicine({ name: '', company: '', price: '', quantity: '', expiry: '' })\n//     setShowAddModal(false)\n//     toast.success('ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ø¡')\n//   }\n\n//   const todayTotal = sales\n//     .filter((s) => s.date === new Date().toISOString().slice(0, 10))\n//     .reduce((sum, s) => sum + s.qty * s.price, 0)\n\n//   const printReport = () => {\n//     const w = window.open('', '', 'width=900,height=700')\n//     w.document.write(`\n//       <html dir=\"rtl\" lang=\"ar\">\n//         <head>\n//           <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n//           <style>\n//             body { font-family: 'Tajawal', sans-serif; direction: rtl; padding: 20px; }\n//             h2 { color: ${theme.colors.primary}; text-align: center; }\n//             table { width: 100%; border-collapse: collapse; margin-top: 15px; }\n//             th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }\n//             th { background: #f3f4f6; }\n//           </style>\n//         </head>\n//         <body>${reportRef.current.innerHTML}</body>\n//       </html>\n//     `)\n//     w.document.close(); w.focus(); w.print(); w.close()\n//   }\n\n//   return (\n//     <Layout user={user} title=\"Ù„ÙˆØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n//       <div dir=\"rtl\" className=\"space-y-6\">\n//         {/* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­ÙƒÙ… */}\n//         <div className=\"flex flex-wrap items-center justify-between gap-3\">\n//           <input\n//             type=\"text\"\n//             placeholder=\"ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙƒØ©...\"\n//             value={search}\n//             onChange={(e) => setSearch(e.target.value)}\n//             className=\"flex-1 input\"\n//           />\n//           <div className=\"flex gap-2\">\n//             <button onClick={() => setShowAddModal(true)} className=\"btn btn-primary\">â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡</button>\n//             <button onClick={() => setShowSalesReport(true)} className=\"btn btn-secondary\">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</button>\n//           </div>\n//         </div>\n\n//         {/* ÙÙ„ØªØ±Ø© Ù…ØªÙ‚Ø¯Ù…Ø© */}\n//         <div className=\"p-4 card\">\n//           <h4 className=\"mb-3 font-semibold text-gray-700\">ÙÙ„ØªØ±Ø© Ù…ØªÙ‚Ø¯Ù…Ø©</h4>\n//           <div className=\"grid grid-cols-2 gap-3 md:grid-cols-6\">\n//             <input className=\"input\" placeholder=\"Ø§Ù„Ø´Ø±ÙƒØ©\" value={adv.company} onChange={(e) => setAdv({ ...adv, company: e.target.value })} />\n//             <input className=\"input\" placeholder=\"ÙƒÙ…ÙŠØ© Ù…Ù†\" type=\"number\" value={adv.minQty} onChange={(e) => setAdv({ ...adv, minQty: e.target.value })} />\n//             <input className=\"input\" placeholder=\"ÙƒÙ…ÙŠØ© Ø¥Ù„Ù‰\" type=\"number\" value={adv.maxQty} onChange={(e) => setAdv({ ...adv, maxQty: e.target.value })} />\n//             <input className=\"input\" placeholder=\"Ø³Ø¹Ø± Ù…Ù†\" type=\"number\" value={adv.minPrice} onChange={(e) => setAdv({ ...adv, minPrice: e.target.value })} />\n//             <input className=\"input\" placeholder=\"Ø³Ø¹Ø± Ø¥Ù„Ù‰\" type=\"number\" value={adv.maxPrice} onChange={(e) => setAdv({ ...adv, maxPrice: e.target.value })} />\n//             <input className=\"input\" placeholder=\"ØªÙ†ØªÙ‡ÙŠ Ù‚Ø¨Ù„ ØªØ§Ø±ÙŠØ®\" type=\"date\" value={adv.expiryBefore} onChange={(e) => setAdv({ ...adv, expiryBefore: e.target.value })} />\n//           </div>\n//           <div className=\"flex justify-end gap-2 mt-3\">\n//             <button onClick={() => setAdv({ company: '', minQty: '', maxQty: '', minPrice: '', maxPrice: '', expiryBefore: '' })} className=\"btn btn-ghost\">Ù…Ø³Ø­</button>\n//             <button onClick={() => toast('ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ± ğŸ‘')} className=\"btn btn-primary\">ØªØ·Ø¨ÙŠÙ‚</button>\n//           </div>\n//         </div>\n\n//         {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//         <div className=\"p-4 card\">\n//           <h3 className=\"mb-3 text-lg font-semibold text-gray-700\">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ©</h3>\n//           <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//             <thead className=\"text-gray-600 bg-gray-50\">\n//               <tr>\n//                 <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\n//                 <th className=\"px-3 py-2\">Ø¥Ø¬Ø±Ø§Ø¡</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {filtered.map((m) => (\n//                 <tr key={m.id} className=\"border-t hover:bg-gray-50\">\n//                   <td className=\"px-3 py-2\">{m.name}</td>\n//                   <td className=\"px-3 py-2\">{m.company}</td>\n//                   <td className=\"px-3 py-2\">{m.price} Ø±.Ø³</td>\n//                   <td className={`px-3 py-2 ${m.quantity <= 5 ? 'text-red-600' : 'text-green-700'}`}>{m.quantity}</td>\n//                   <td className={`${new Date(m.expiry) < new Date() ? 'text-red-600' : ''} px-3 py-2`}>{m.expiry}</td>\n//                   <td className=\"px-3 py-2\">\n//                     <button onClick={() => sell(m)} className=\"px-3 py-1.5 rounded border border-emerald-100 text-emerald-700 hover:bg-emerald-50\">Ø¨ÙŠØ¹</button>\n//                   </td>\n//                 </tr>\n//               ))}\n//               {filtered.length === 0 && (\n//                 <tr><td colSpan=\"6\" className=\"py-6 text-center text-gray-500\">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©</td></tr>\n//               )}\n//             </tbody>\n//           </table>\n//         </div>\n//       </div>\n\n//       {/* Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡ */}\n//       {showAddModal && (\n//         <Modal title=\"Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡ Ø¬Ø¯ÙŠØ¯\" onClose={() => setShowAddModal(false)}>\n//           <div className=\"text-right\">\n//             <label className=\"block mb-1 text-sm\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</label>\n//             <input className=\"mb-2 input\" value={newMedicine.name} onChange={(e) => setNewMedicine({ ...newMedicine, name: e.target.value })} />\n\n//             <label className=\"block mb-1 text-sm\">Ø§Ù„Ø´Ø±ÙƒØ©</label>\n//             <input className=\"mb-2 input\" value={newMedicine.company} onChange={(e) => setNewMedicine({ ...newMedicine, company: e.target.value })} />\n\n//             <div className=\"grid grid-cols-2 gap-3\">\n//               <div>\n//                 <label className=\"block mb-1 text-sm\">Ø§Ù„Ø³Ø¹Ø±</label>\n//                 <input className=\"input\" type=\"number\" value={newMedicine.price} onChange={(e) => setNewMedicine({ ...newMedicine, price: e.target.value })} />\n//               </div>\n//               <div>\n//                 <label className=\"block mb-1 text-sm\">Ø§Ù„ÙƒÙ…ÙŠØ©</label>\n//                 <input className=\"input\" type=\"number\" value={newMedicine.quantity} onChange={(e) => setNewMedicine({ ...newMedicine, quantity: e.target.value })} />\n//               </div>\n//             </div>\n\n//             <label className=\"block mt-2 mb-1 text-sm\">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</label>\n//             <input className=\"mb-4 input\" type=\"date\" value={newMedicine.expiry} onChange={(e) => setNewMedicine({ ...newMedicine, expiry: e.target.value })} />\n\n//             <div className=\"flex justify-end gap-3\">\n//               <button onClick={addMedicine} className=\"btn btn-secondary\">Ø­ÙØ¸</button>\n//               <button onClick={() => setShowAddModal(false)} className=\"btn btn-ghost\">Ø¥Ù„ØºØ§Ø¡</button>\n//             </div>\n//           </div>\n//         </Modal>\n//       )}\n\n//       {/* Ù…ÙˆØ¯Ø§Ù„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//       {showSalesReport && (\n//         <Modal title=\"ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\" onClose={() => setShowSalesReport(false)} width=\"max-w-3xl\">\n//           <div ref={reportRef} className=\"space-y-2 text-sm text-gray-700\">\n//             <h3 className=\"mb-3 text-lg font-semibold text-center text-sky-700\">ğŸ’Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>\n//             <table className=\"w-full text-sm text-right border border-gray-200\">\n//               <thead className=\"text-gray-600 bg-gray-50\">\n//                 <tr>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                   <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {sales.map((s) => (\n//                   <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n//                     <td className=\"px-3 py-2\">{s.date}</td>\n//                     <td className=\"px-3 py-2\">{s.name}</td>\n//                     <td className=\"px-3 py-2\">{s.qty}</td>\n//                     <td className=\"px-3 py-2\">{s.price} Ø±.Ø³</td>\n//                     <td className=\"px-3 py-2 font-semibold text-sky-700\">{(s.qty * s.price).toFixed(2)} Ø±.Ø³</td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//             <div className=\"mt-4 font-semibold text-center text-green-700\">\n//               ğŸ§¾ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…: {todayTotal.toFixed(2)} Ø±.Ø³\n//             </div>\n//           </div>\n\n//           <div className=\"flex justify-end gap-3 mt-5\">\n//             <button onClick={printReport} className=\"btn btn-secondary\">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>\n//             <button onClick={() => setShowSalesReport(false)} className=\"btn btn-ghost\">Ø¥ØºÙ„Ø§Ù‚</button>\n//           </div>\n//         </Modal>\n//       )}\n//     </Layout>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // pages/pharmacist.js\n// import { useEffect, useMemo, useRef, useState } from 'react'\n// import Layout from '../components/Layout'\n// import Modal from '../components/Modal'\n// import theme from '../theme'\n// import toast from 'react-hot-toast'\n\n// export default function Pharmacist() {\n//   const [user] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist' })\n//   const [activeTab, setActiveTab] = useState('medicines')\n\n//   const [medicines, setMedicines] = useState([])\n//   const [search, setSearch] = useState('')\n//   const [companyFilter, setCompanyFilter] = useState('all')\n//   const [stockFilter, setStockFilter] = useState('all')\n\n//   const [showSaleModal, setShowSaleModal] = useState(false)\n//   const [saleForm, setSaleForm] = useState({ medId: '', qty: 1, price: 0 })\n\n//   const [sales, setSales] = useState([])\n//   const [dateRange, setDateRange] = useState('today')\n//   const [customFrom, setCustomFrom] = useState('')\n//   const [customTo, setCustomTo] = useState('')\n//   const [showSalesReport, setShowSalesReport] = useState(false)\n//   const printRef = useRef(null)\n\n//   useEffect(() => {\n//     const mock = [\n//       { id: 1, name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', company: 'GSK', price: 15, quantity: 10, expiry: '2025-12-10' },\n//       { id: 2, name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', company: 'Pfizer', price: 45, quantity: 3, expiry: '2024-06-02' },\n//       { id: 3, name: 'Ø§ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ† 400mg', company: 'Novartis', price: 30, quantity: 2, expiry: '2023-12-30' },\n//       { id: 4, name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', company: 'Roche', price: 25, quantity: 25, expiry: '2026-01-15' },\n//     ]\n//     setMedicines(mock)\n//     setSales([\n//       { id: 1, date: '2025-11-02', name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', qty: 5, price: 15 },\n//       { id: 2, date: '2025-11-02', name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', qty: 2, price: 25 },\n//       { id: 3, date: '2025-11-01', name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', qty: 3, price: 45 },\n//     ])\n//   }, [])\n\n//   const lowStock = useMemo(() => medicines.filter(m => m.quantity <= 5), [medicines])\n//   const expired = useMemo(() => medicines.filter(m => new Date(m.expiry) < new Date()), [medicines])\n\n//   const companies = useMemo(() => ['all', ...Array.from(new Set(medicines.map(m => m.company)))], [medicines])\n\n//   const filteredMedicines = useMemo(() => {\n//     const s = search.trim().toLowerCase()\n//     return medicines.filter(m => {\n//       const matchText = m.name.toLowerCase().includes(s) || m.company.toLowerCase().includes(s)\n//       const matchCompany = companyFilter === 'all' ? true : m.company === companyFilter\n//       const isLow = m.quantity <= 5\n//       const isExpired = new Date(m.expiry) < new Date()\n//       const matchStock =\n//         stockFilter === 'all' ? true : stockFilter === 'low' ? isLow : isExpired\n//       return matchText && matchCompany && matchStock\n//     })\n//   }, [medicines, search, companyFilter, stockFilter])\n\n//   const openSaleModal = (medId) => {\n//     const med = medicines.find(m => m.id === medId)\n//     setSaleForm({ medId, qty: 1, price: med?.price || 0 })\n//     setShowSaleModal(true)\n//   }\n\n//   const submitSale = () => {\n//     const med = medicines.find(m => m.id === Number(saleForm.medId))\n//     if (!med) return toast.error('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙˆØ§Ø¡ ØµØ§Ù„Ø­ Ù„Ù„Ø¨ÙŠØ¹')\n//     if (saleForm.qty <= 0) return toast.error('âŒ Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± ØµØ§Ù„Ø­Ø©')\n//     if (saleForm.qty > med.quantity) return toast.error('âš ï¸ Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…ØªØ§Ø­ Ø¨Ø§Ù„Ù…Ø®Ø²ÙˆÙ†')\n\n//     const updated = medicines.map(m =>\n//       m.id === med.id ? { ...m, quantity: m.quantity - Number(saleForm.qty) } : m\n//     )\n//     setMedicines(updated)\n\n//     const sale = {\n//       id: sales.length + 1,\n//       date: new Date().toISOString().slice(0, 10),\n//       name: med.name,\n//       qty: Number(saleForm.qty),\n//       price: Number(saleForm.price || med.price),\n//     }\n//     setSales([sale, ...sales])\n\n//     setShowSaleModal(false)\n//     toast.success(`âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ ${sale.qty} Ù…Ù† ${med.name}`)\n//   }\n\n//   const withinRange = (d) => {\n//     const date = new Date(d)\n//     const today = new Date()\n//     const day = 24 * 60 * 60 * 1000\n\n//     if (dateRange === 'today') return date.toDateString() === today.toDateString()\n//     if (dateRange === 'week') {\n//       const start = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 6)\n//       return date >= start && date <= today\n//     }\n//     if (dateRange === 'month') {\n//       const start = new Date(today.getFullYear(), today.getMonth(), 1)\n//       return date >= start && date <= today\n//     }\n//     if (dateRange === 'custom') {\n//       if (!customFrom || !customTo) return true\n//       const from = new Date(customFrom)\n//       const to = new Date(customTo)\n//       to.setHours(23, 59, 59, 999)\n//       return date >= from && date <= to\n//     }\n//     return true\n//   }\n\n//   const filteredSales = useMemo(\n//     () => sales.filter(s => withinRange(s.date)),\n//     [sales, dateRange, customFrom, customTo]\n//   )\n\n//   const totalSales = filteredSales.reduce((sum, s) => sum + s.qty * s.price, 0)\n\n//   const printSales = () => {\n//     if (!printRef.current) return\n//     toast.success('ğŸ–¨ï¸ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©...')\n//     const html = printRef.current.innerHTML\n//     const w = window.open('', '', 'width=900,height=700')\n//     w.document.write(`\n//       <html lang=\"ar\" dir=\"rtl\">\n//         <head>\n//           <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n//           <meta charset=\"utf-8\"/>\n//           <style>\n//             body { font-family: 'Tajawal', sans-serif; direction: rtl; margin: 20px; color: #111827; }\n//             header { text-align: center; margin-bottom: 12px; }\n//             h1 { margin: 0 0 2px; font-size: 18px; color: ${theme.colors.primary}; }\n//             .sub { color: #6B7280; font-size: 12px; }\n//             table { width: 100%; border-collapse: collapse; margin-top: 12px; }\n//             th, td { border: 1px solid #e5e7eb; padding: 8px; text-align: center; font-size: 13px; }\n//             th { background: #f9fafb; }\n//             .tot { margin-top: 10px; text-align: left; font-weight: 700; color: #047857; }\n//             @media print { @page { size: A4; margin: 12mm; } }\n//           </style>\n//         </head>\n//         <body>\n//           <header>\n//             <h1>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</h1>\n//             <div class=\"sub\">${new Date().toLocaleString('ar-SA')}</div>\n//           </header>\n//           ${html}\n//         </body>\n//       </html>\n//     `)\n//     w.document.close()\n//     w.focus()\n//     w.print()\n//     w.close()\n//   }\n\n//   const exportCSV = () => {\n//     if (!filteredSales.length) return toast.error('âŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØµØ¯ÙŠØ±Ù‡Ø§')\n//     const headers = ['Ø§Ù„ØªØ§Ø±ÙŠØ®', 'Ø§Ù„Ø¯ÙˆØ§Ø¡', 'Ø§Ù„ÙƒÙ…ÙŠØ©', 'Ø§Ù„Ø³Ø¹Ø±', 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ']\n//     const rows = filteredSales.map(s => [\n//       s.date,\n//       s.name,\n//       s.qty,\n//       s.price,\n//       (s.qty * s.price).toFixed(2)\n//     ])\n//     const csv = [headers, ...rows].map(r => r.join(',')).join('\\n')\n//     const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n//     const url = URL.createObjectURL(blob)\n//     const a = document.createElement('a')\n//     a.href = url\n//     a.download = 'pharmacist-sales.csv'\n//     a.click()\n//     URL.revokeObjectURL(url)\n//     toast.success('ğŸ“¥ ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ØµÙŠØºØ© CSV')\n//   }\n\n//   return (\n//     <Layout user={{ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist' }} title=\"Ù„ÙˆØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n//       <div dir=\"rtl\" className=\"space-y-6\">\n//         {(lowStock.length > 0 || expired.length > 0) && (\n//           <div className=\"grid gap-3 sm:grid-cols-2\">\n//             {lowStock.length > 0 && (\n//               <div className=\"p-3 text-sm border rounded-md border-amber-200 bg-amber-50 text-amber-800\">\n//                 âš ï¸ ÙŠÙˆØ¬Ø¯ <b>{lowStock.length}</b> Ø¯ÙˆØ§Ø¡ Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†.\n//               </div>\n//             )}\n//             {expired.length > 0 && (\n//               <div className=\"p-3 text-sm border rounded-md border-rose-200 bg-rose-50 text-rose-800\">\n//                 â›” ÙŠÙˆØ¬Ø¯ <b>{expired.length}</b> Ø¯ÙˆØ§Ø¡ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©.\n//               </div>\n//             )}\n//           </div>\n//         )}\n\n//         {/* Tabs */}\n//         <div className=\"flex flex-wrap gap-2\">\n//           {[\n//             { key: 'medicines', label: 'ğŸ§¾ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©' },\n//             { key: 'sales', label: 'ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª' },\n//             { key: 'alerts', label: 'âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª' },\n//           ].map(t => (\n//             <button\n//               key={t.key}\n//               onClick={() => setActiveTab(t.key)}\n//               className={`px-3 py-1.5 rounded-md text-sm font-medium border ${\n//                 activeTab === t.key ? 'text-white' : 'text-gray-600 bg-white'\n//               }`}\n//               style={{\n//                 backgroundColor: activeTab === t.key ? theme.colors.primary : undefined,\n//                 borderColor: activeTab === t.key ? theme.colors.primary : '#e5e7eb',\n//               }}\n//             >\n//               {t.label}\n//             </button>\n//           ))}\n//         </div>\n\n//         {/* Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//         {activeTab === 'medicines' && (\n//           <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//             <div className=\"flex flex-col gap-3 mb-4 sm:flex-row sm:items-center sm:justify-between\">\n//               <div className=\"flex flex-1 gap-2\">\n//                 <input\n//                   type=\"text\"\n//                   placeholder=\"ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙƒØ©...\"\n//                   value={search}\n//                   onChange={(e) => setSearch(e.target.value)}\n//                   className=\"flex-1 px-3 py-2 text-sm border rounded-md focus:ring-2 focus:ring-sky-400\"\n//                 />\n//                 <select\n//                   value={companyFilter}\n//                   onChange={(e) => setCompanyFilter(e.target.value)}\n//                   className=\"px-3 py-2 text-sm border rounded-md\"\n//                 >\n//                   {companies.map(c => (\n//                     <option key={c} value={c}>{c === 'all' ? 'ÙƒÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª' : c}</option>\n//                   ))}\n//                 </select>\n//                 <select\n//                   value={stockFilter}\n//                   onChange={(e) => setStockFilter(e.target.value)}\n//                   className=\"px-3 py-2 text-sm border rounded-md\"\n//                 >\n//                   <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n//                   <option value=\"low\">Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>\n//                   <option value=\"expired\">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</option>\n//                 </select>\n//               </div>\n//               <button\n//                 onClick={() => setShowSaleModal(true)}\n//                 className=\"px-4 py-2 text-white rounded-md shadow-sm\"\n//                 style={{ background: `linear-gradient(135deg, ${theme.colors.primary}, ${theme.colors.secondary})` }}\n//               >\n//                 â• ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ ÙŠØ¯ÙˆÙŠ\n//               </button>\n//             </div>\n\n//             <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//               <thead className=\"text-gray-600 bg-gray-50\">\n//                 <tr>\n//                   <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>\n//                   <th className=\"px-3 py-2\">Ø¥Ø¬Ø±Ø§Ø¡</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {filteredMedicines.map((m) => {\n//                   const isLow = m.quantity <= 5\n//                   const isExp = new Date(m.expiry) < new Date()\n//                   return (\n//                     <tr key={m.id} className={`border-t hover:bg-gray-50 ${isLow ? 'bg-amber-50/40' : ''} ${isExp ? 'bg-rose-50/40' : ''}`}>\n//                       <td className=\"px-3 py-2\">{m.name}</td>\n//                       <td className=\"px-3 py-2\">{m.company}</td>\n//                       <td className=\"px-3 py-2\">{m.price} Ø±.Ø³</td>\n//                       <td className={`px-3 py-2 ${isLow ? 'text-amber-700' : 'text-green-700'}`}>{m.quantity}</td>\n//                       <td className={`${isExp ? 'text-rose-700' : ''} px-3 py-2`}>{m.expiry}</td>\n//                       <td className=\"px-3 py-2\">\n//                         <button\n//                           onClick={() => openSaleModal(m.id)}\n//                           className=\"px-3 py-1.5 text-sm border rounded-md border-sky-200 text-sky-700 hover:bg-sky-50\"\n//                         >\n//                           Ø¨ÙŠØ¹\n//                         </button>\n//                       </td>\n//                     </tr>\n//                   )\n//                 })}\n//               </tbody>\n//             </table>\n//           </div>\n//         )}\n\n//         {/* Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//         {activeTab === 'sales' && (\n//           <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//             <div className=\"flex flex-wrap gap-2 mb-3\">\n//               {['today', 'week', 'month', 'custom'].map(r => (\n//                 <button\n//                   key={r}\n//                   onClick={() => setDateRange(r)}\n//                   className={`px-3 py-1.5 rounded-md text-sm border ${dateRange === r ? 'text-white' : 'text-gray-600 bg-white'}`}\n//                   style={{\n//                     backgroundColor: dateRange === r ? theme.colors.primary : undefined,\n//                     borderColor: dateRange === r ? theme.colors.primary : '#e5e7eb'\n//                   }}\n//                 >\n//                   {r === 'today' ? 'Ø§Ù„ÙŠÙˆÙ…' : r === 'week' ? 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹' : r === 'month' ? 'Ø§Ù„Ø´Ù‡Ø±' : 'Ù…Ø®ØµØµ'}\n//                 </button>\n//               ))}\n//               {dateRange === 'custom' && (\n//                 <>\n//                   <input type=\"date\" value={customFrom} onChange={e => setCustomFrom(e.target.value)} className=\"px-3 py-1.5 border rounded-md\" />\n//                   <input type=\"date\" value={customTo} onChange={e => setCustomTo(e.target.value)} className=\"px-3 py-1.5 border rounded-md\" />\n//                 </>\n//               )}\n//             </div>\n\n//             <div ref={printRef}>\n//               <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//                 <thead className=\"text-gray-600 bg-gray-50\">\n//                   <tr>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredSales.map(s => (\n//                     <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n//                       <td className=\"px-3 py-2\">{s.date}</td>\n//                       <td className=\"px-3 py-2\">{s.name}</td>\n//                       <td className=\"px-3 py-2\">{s.qty}</td>\n//                       <td className=\"px-3 py-2\">{s.price} Ø±.Ø³</td>\n//                       <td className=\"px-3 py-2 font-semibold text-sky-700\">{(s.qty * s.price).toFixed(2)} Ø±.Ø³</td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//               <div className=\"mt-3 font-semibold text-left text-green-700\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {totalSales.toFixed(2)} Ø±.Ø³</div>\n//             </div>\n\n//             <div className=\"flex flex-wrap justify-end gap-2 mt-4\">\n//               <button onClick={printSales} className=\"px-4 py-2 text-white rounded-md shadow-sm bg-sky-600 hover:bg-sky-700\">\n//                 ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©\n//               </button>\n//               <button onClick={exportCSV} className=\"px-4 py-2 text-white bg-indigo-600 rounded-md shadow-sm hover:bg-indigo-700\">\n//                 ğŸ“¥ CSV\n//               </button>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n\n//       {showSaleModal && (\n//         <Modal title=\"ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹\" onClose={() => setShowSaleModal(false)}>\n//           <div className=\"space-y-3 text-right\">\n//             <label className=\"block text-sm\">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ§Ø¡</label>\n//             <select\n//               value={saleForm.medId}\n//               onChange={(e) => {\n//                 const id = Number(e.target.value)\n//                 const med = medicines.find(m => m.id === id)\n//                 setSaleForm({ medId: id, qty: 1, price: med?.price || 0 })\n//               }}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             >\n//               <option value=\"\">â€” Ø§Ø®ØªØ± â€”</option>\n//               {medicines.map(m => (\n//                 <option key={m.id} value={m.id}>{m.name} â€” Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: {m.quantity}</option>\n//               ))}\n//             </select>\n\n//             <label className=\"block text-sm\">Ø§Ù„ÙƒÙ…ÙŠØ©</label>\n//             <input\n//               type=\"number\"\n//               min=\"1\"\n//               value={saleForm.qty}\n//               onChange={(e) => setSaleForm({ ...saleForm, qty: Number(e.target.value) })}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             />\n\n//             <label className=\"block text-sm\">Ø§Ù„Ø³Ø¹Ø±</label>\n//             <input\n//               type=\"number\"\n//               min=\"0\"\n//               value={saleForm.price}\n//               onChange={(e) => setSaleForm({ ...saleForm, price: Number(e.target.value) })}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             />\n\n//             <div className=\"flex justify-end gap-2 pt-2\">\n//               <button onClick={submitSale} className=\"px-4 py-2 text-white rounded-md bg-emerald-600 hover:bg-emerald-700\">Ø­ÙØ¸</button>\n//               <button onClick={() => setShowSaleModal(false)} className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300\">Ø¥Ù„ØºØ§Ø¡</button>\n//             </div>\n//           </div>\n//         </Modal>\n//       )}\n//     </Layout>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// // pages/pharmacist.js\n// import { useEffect, useMemo, useRef, useState } from 'react'\n// import Layout from '../components/Layout'\n// import Modal from '../components/Modal'\n// import theme from '../theme'\n\n// export default function Pharmacist() {\n//   // ======== Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ========\n//   const [user] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯', role: 'pharmacist' })\n//   const [activeTab, setActiveTab] = useState('medicines') // medicines | sales | alerts\n\n//   // ======== Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ========\n//   const [medicines, setMedicines] = useState([])\n//   const [search, setSearch] = useState('')\n//   const [companyFilter, setCompanyFilter] = useState('all')\n//   const [stockFilter, setStockFilter] = useState('all') // all | low | expired\n\n//   // ======== Ø§Ù„Ø¨ÙŠØ¹ Ù…Ù† Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ========\n//   const [showSaleModal, setShowSaleModal] = useState(false)\n//   const [saleForm, setSaleForm] = useState({ medId: '', qty: 1, price: 0 })\n\n//   // ======== Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ========\n//   const [sales, setSales] = useState([])\n//   const [dateRange, setDateRange] = useState('today') // today | week | month | custom\n//   const [customFrom, setCustomFrom] = useState('')\n//   const [customTo, setCustomTo] = useState('')\n//   const [showSalesReport, setShowSalesReport] = useState(false)\n//   const printRef = useRef(null)\n\n//   // ======== ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© ========\n//   useEffect(() => {\n//     const mock = [\n//       { id: 1, name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', company: 'GSK', price: 15, quantity: 10, expiry: '2025-12-10' },\n//       { id: 2, name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', company: 'Pfizer', price: 45, quantity: 3, expiry: '2024-06-02' },\n//       { id: 3, name: 'Ø§ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ† 400mg', company: 'Novartis', price: 30, quantity: 2, expiry: '2023-12-30' },\n//       { id: 4, name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', company: 'Roche', price: 25, quantity: 25, expiry: '2026-01-15' },\n//     ]\n//     setMedicines(mock)\n\n//     setSales([\n//       { id: 1, date: '2025-11-02', name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', qty: 5, price: 15 },\n//       { id: 2, date: '2025-11-02', name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', qty: 2, price: 25 },\n//       { id: 3, date: '2025-11-01', name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', qty: 3, price: 45 },\n//     ])\n//   }, [])\n\n//   // ======== ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ========\n//   const lowStock = useMemo(() => medicines.filter(m => m.quantity <= 5), [medicines])\n//   const expired = useMemo(() => medicines.filter(m => new Date(m.expiry) < new Date()), [medicines])\n\n//   // ======== ÙÙ„ØªØ±Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ© (Ø¨Ø­Ø« + Ø´Ø±ÙƒØ© + Ø­Ø§Ù„Ø©) ========\n//   const companies = useMemo(() => ['all', ...Array.from(new Set(medicines.map(m => m.company)))], [medicines])\n\n//   const filteredMedicines = useMemo(() => {\n//     const s = search.trim().toLowerCase()\n//     return medicines.filter(m => {\n//       const matchesText =\n//         m.name.toLowerCase().includes(s) || m.company.toLowerCase().includes(s)\n\n//       const matchesCompany = companyFilter === 'all' ? true : m.company === companyFilter\n\n//       const isLow = m.quantity <= 5\n//       const isExpired = new Date(m.expiry) < new Date()\n//       const matchesStock =\n//         stockFilter === 'all' ? true : stockFilter === 'low' ? isLow : isExpired\n\n//       return matchesText && matchesCompany && matchesStock\n//     })\n//   }, [medicines, search, companyFilter, stockFilter])\n\n//   // ======== ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ Ù…Ù† Ø§Ù„ØµÙŠØ¯Ù„ÙŠ ========\n//   const openSaleModal = (medId) => {\n//     const med = medicines.find(m => m.id === medId)\n//     setSaleForm({ medId, qty: 1, price: med?.price || 0 })\n//     setShowSaleModal(true)\n//   }\n\n//   const submitSale = () => {\n//     const med = medicines.find(m => m.id === Number(saleForm.medId))\n//     if (!med) return alert('Ø§Ø®ØªØ± Ø¯ÙˆØ§Ø¡Ù‹ ØµØ§Ù„Ø­Ù‹Ø§')\n//     if (saleForm.qty <= 0) return alert('Ø§Ù„ÙƒÙ…ÙŠØ© ØºÙŠØ± ØµØ§Ù„Ø­Ø©')\n//     if (saleForm.qty > med.quantity) return alert('Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†')\n\n//     // ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†\n//     const updated = medicines.map(m =>\n//       m.id === med.id ? { ...m, quantity: m.quantity - Number(saleForm.qty) } : m\n//     )\n//     setMedicines(updated)\n\n//     // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ¹\n//     const sale = {\n//       id: sales.length + 1,\n//       date: new Date().toISOString().slice(0, 10),\n//       name: med.name,\n//       qty: Number(saleForm.qty),\n//       price: Number(saleForm.price || med.price),\n//     }\n//     setSales([sale, ...sales])\n\n//     setShowSaleModal(false)\n//   }\n\n//   // ======== ØªØµÙÙŠØ© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ========\n//   const withinRange = (d) => {\n//     const date = new Date(d)\n//     const today = new Date()\n//     const day = 24 * 60 * 60 * 1000\n\n//     if (dateRange === 'today') {\n//       return date.toDateString() === today.toDateString()\n//     }\n//     if (dateRange === 'week') {\n//       const start = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 6)\n//       return date >= start && date <= today\n//     }\n//     if (dateRange === 'month') {\n//       const start = new Date(today.getFullYear(), today.getMonth(), 1)\n//       return date >= start && date <= today\n//     }\n//     if (dateRange === 'custom') {\n//       if (!customFrom || !customTo) return true\n//       const from = new Date(customFrom)\n//       const to = new Date(customTo)\n//       // Ø´Ù…Ù„ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ÙŠÙˆÙ…\n//       to.setHours(23, 59, 59, 999)\n//       return date >= from && date <= to\n//     }\n//     return true\n//   }\n\n//   const filteredSales = useMemo(\n//     () => sales.filter(s => withinRange(s.date)),\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//     [sales, dateRange, customFrom, customTo]\n//   )\n\n//   const totalSales = filteredSales.reduce((sum, s) => sum + s.qty * s.price, 0)\n\n//   // ======== Ø·Ø¨Ø§Ø¹Ø© ÙˆØªØµØ¯ÙŠØ± ========\n//   const printSales = () => {\n//     if (!printRef.current) return\n//     const html = printRef.current.innerHTML\n//     const w = window.open('', '', 'width=900,height=700')\n//     w.document.write(`\n//       <html lang=\"ar\" dir=\"rtl\">\n//         <head>\n//           <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n//           <meta charset=\"utf-8\"/>\n//           <style>\n//             body { font-family: system-ui, -apple-system, 'Segoe UI', 'Tajawal', sans-serif; direction: rtl; margin: 20px; color: #111827; }\n//             header { text-align: center; margin-bottom: 12px; }\n//             h1 { margin: 0 0 2px; font-size: 18px; color: ${theme.colors.primary}; }\n//             .sub { color: #6B7280; font-size: 12px; }\n//             table { width: 100%; border-collapse: collapse; margin-top: 12px; }\n//             th, td { border: 1px solid #e5e7eb; padding: 8px; text-align: center; font-size: 13px; }\n//             th { background: #f9fafb; }\n//             .tot { margin-top: 10px; text-align: left; font-weight: 700; color: #047857; }\n//             @media print { @page { size: A4; margin: 12mm; } }\n//           </style>\n//         </head>\n//         <body>\n//           <header>\n//             <h1>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</h1>\n//             <div class=\"sub\">${new Date().toLocaleString('ar-SA')}</div>\n//           </header>\n//           ${html}\n//         </body>\n//       </html>\n//     `)\n//     w.document.close()\n//     w.focus()\n//     w.print()\n//     w.close()\n//   }\n\n//   const exportCSV = () => {\n//     if (!filteredSales.length) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ØªØµØ¯ÙŠØ±Ù‡Ø§')\n//     const headers = ['Ø§Ù„ØªØ§Ø±ÙŠØ®', 'Ø§Ù„Ø¯ÙˆØ§Ø¡', 'Ø§Ù„ÙƒÙ…ÙŠØ©', 'Ø§Ù„Ø³Ø¹Ø±', 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ']\n//     const rows = filteredSales.map(s => [\n//       s.date,\n//       s.name,\n//       s.qty,\n//       s.price,\n//       (s.qty * s.price).toFixed(2)\n//     ])\n//     const csv = [headers, ...rows].map(r => r.join(',')).join('\\n')\n//     const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n//     const url = URL.createObjectURL(blob)\n//     const a = document.createElement('a')\n//     a.href = url\n//     a.download = 'pharmacist-sales.csv'\n//     a.click()\n//     URL.revokeObjectURL(url)\n//   }\n\n//   // ======== ÙˆØ§Ø¬Ù‡Ø© ========\n//   return (\n//     <Layout user={user} title=\"Ù„ÙˆØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n//       <div dir=\"rtl\" className=\"space-y-6\">\n//         {/* ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙÙˆØ±ÙŠØ© */}\n//         {(lowStock.length > 0 || expired.length > 0) && (\n//           <div className=\"grid gap-3 sm:grid-cols-2\">\n//             {lowStock.length > 0 && (\n//               <div className=\"p-3 text-sm border rounded-md border-amber-200 bg-amber-50 text-amber-800\">\n//                 âš ï¸ ÙŠÙˆØ¬Ø¯ <b>{lowStock.length}</b> Ø¯ÙˆØ§Ø¡ Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ† â€” Ø±Ø§Ø¬Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨.\n//               </div>\n//             )}\n//             {expired.length > 0 && (\n//               <div className=\"p-3 text-sm border rounded-md border-rose-200 bg-rose-50 text-rose-800\">\n//                 â›” ÙŠÙˆØ¬Ø¯ <b>{expired.length}</b> Ø¯ÙˆØ§Ø¡ Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© â€” Ø£ÙˆÙ‚Ù ØµØ±ÙÙ‡ ÙÙˆØ±Ù‹Ø§.\n//               </div>\n//             )}\n//           </div>\n//         )}\n\n//         {/* ØªØ¨ÙˆÙŠØ¨Ø§Øª */}\n//         <div className=\"flex flex-wrap gap-2\">\n//           {[\n//             { key: 'medicines', label: 'ğŸ§¾ Ø§Ù„Ø£Ø¯ÙˆÙŠØ©' },\n//             { key: 'sales', label: 'ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª' },\n//             { key: 'alerts', label: 'âš ï¸ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª' },\n//           ].map(t => (\n//             <button\n//               key={t.key}\n//               onClick={() => setActiveTab(t.key)}\n//               className={`px-3 py-1.5 rounded-md text-sm font-medium border\n//                 ${activeTab === t.key ? 'text-white' : 'text-gray-600 bg-white'}\n//               `}\n//               style={{\n//                 backgroundColor: activeTab === t.key ? theme.colors.primary : undefined,\n//                 borderColor: activeTab === t.key ? theme.colors.primary : '#e5e7eb'\n//               }}\n//             >\n//               {t.label}\n//             </button>\n//           ))}\n//         </div>\n\n//         {/* ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//         {activeTab === 'medicines' && (\n//           <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//             {/* Ø´Ø±ÙŠØ· Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//             <div className=\"flex flex-col gap-3 mb-4 sm:flex-row sm:items-center sm:justify-between\">\n//               <div className=\"flex flex-1 gap-2\">\n//                 <input\n//                   type=\"text\"\n//                   placeholder=\"ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙƒØ©...\"\n//                   value={search}\n//                   onChange={(e) => setSearch(e.target.value)}\n//                   className=\"flex-1 px-3 py-2 text-sm border rounded-md focus:ring-2 focus:ring-sky-400\"\n//                 />\n//                 <select\n//                   value={companyFilter}\n//                   onChange={(e) => setCompanyFilter(e.target.value)}\n//                   className=\"px-3 py-2 text-sm border rounded-md\"\n//                 >\n//                   {companies.map(c => (\n//                     <option key={c} value={c}>\n//                       {c === 'all' ? 'ÙƒÙ„ Ø§Ù„Ø´Ø±ÙƒØ§Øª' : c}\n//                     </option>\n//                   ))}\n//                 </select>\n//                 <select\n//                   value={stockFilter}\n//                   onChange={(e) => setStockFilter(e.target.value)}\n//                   className=\"px-3 py-2 text-sm border rounded-md\"\n//                 >\n//                   <option value=\"all\">ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>\n//                   <option value=\"low\">Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</option>\n//                   <option value=\"expired\">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</option>\n//                 </select>\n//               </div>\n\n//               <button\n//                 onClick={() => setShowSaleModal(true)}\n//                 className=\"px-4 py-2 text-white rounded-md shadow-sm\"\n//                 style={{ background: `linear-gradient(135deg, ${theme.colors.primary}, ${theme.colors.secondary})` }}\n//               >\n//                 â• ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ ÙŠØ¯ÙˆÙŠ\n//               </button>\n//             </div>\n\n//             {/* Ø¬Ø¯ÙˆÙ„/Ø¨Ø·Ø§Ù‚Ø§Øª */}\n//             <div className=\"hidden sm:block\">\n//               <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//                 <thead className=\"text-gray-600 bg-gray-50\">\n//                   <tr>\n//                     <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>\n//                     <th className=\"px-3 py-2\">Ø¥Ø¬Ø±Ø§Ø¡</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredMedicines.map((m) => {\n//                     const isLow = m.quantity <= 5\n//                     const isExp = new Date(m.expiry) < new Date()\n//                     return (\n//                       <tr key={m.id} className={`border-t hover:bg-gray-50 ${isLow ? 'bg-amber-50/40' : ''} ${isExp ? 'bg-rose-50/40' : ''}`}>\n//                         <td className=\"px-3 py-2\">{m.name}</td>\n//                         <td className=\"px-3 py-2\">{m.company}</td>\n//                         <td className=\"px-3 py-2\">{m.price} Ø±.Ø³</td>\n//                         <td className={`px-3 py-2 ${isLow ? 'text-amber-700' : 'text-green-700'}`}>{m.quantity}</td>\n//                         <td className={`${isExp ? 'text-rose-700' : ''} px-3 py-2`}>{m.expiry}</td>\n//                         <td className=\"px-3 py-2\">\n//                           <button\n//                             onClick={() => openSaleModal(m.id)}\n//                             className=\"px-3 py-1.5 text-sm border rounded-md border-sky-200 text-sky-700 hover:bg-sky-50\"\n//                           >\n//                             Ø¨ÙŠØ¹\n//                           </button>\n//                         </td>\n//                       </tr>\n//                     )\n//                   })}\n//                 </tbody>\n//               </table>\n//             </div>\n\n//             {/* Ø¨Ø·Ø§Ù‚Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„ */}\n//             <div className=\"grid gap-3 sm:hidden\">\n//               {filteredMedicines.map(m => {\n//                 const isLow = m.quantity <= 5\n//                 const isExp = new Date(m.expiry) < new Date()\n//                 return (\n//                   <div key={m.id} className={`p-3 border rounded-lg shadow-sm bg-white ${isLow ? 'bg-amber-50/50' : ''} ${isExp ? 'bg-rose-50/50' : ''}`}>\n//                     <div className=\"flex items-center justify-between mb-1\">\n//                       <div className=\"font-semibold\">{m.name}</div>\n//                       <button\n//                         onClick={() => openSaleModal(m.id)}\n//                         className=\"px-2.5 py-1 text-xs border rounded-md border-sky-200 text-sky-700\"\n//                       >\n//                         Ø¨ÙŠØ¹\n//                       </button>\n//                     </div>\n//                     <div className=\"text-xs text-gray-600\">Ø§Ù„Ø´Ø±ÙƒØ©: {m.company}</div>\n//                     <div className=\"text-xs text-gray-600\">Ø§Ù„Ø³Ø¹Ø±: {m.price} Ø±.Ø³</div>\n//                     <div className={`text-xs ${isLow ? 'text-amber-700' : 'text-green-700'}`}>Ø§Ù„ÙƒÙ…ÙŠØ©: {m.quantity}</div>\n//                     <div className={`text-xs ${isExp ? 'text-rose-700' : 'text-gray-600'}`}>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: {m.expiry}</div>\n//                   </div>\n//                 )\n//               })}\n//             </div>\n//           </div>\n//         )}\n\n//         {/* ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//         {activeTab === 'sales' && (\n//           <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//             {/* ÙÙ„Ø§ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ® */}\n//             <div className=\"flex flex-col gap-3 mb-4 sm:flex-row sm:items-center sm:justify-between\">\n//               <div className=\"flex flex-wrap gap-2\">\n//                 {[\n//                   { key: 'today', label: 'Ø§Ù„ÙŠÙˆÙ…' },\n//                   { key: 'week', label: 'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹' },\n//                   { key: 'month', label: 'Ø§Ù„Ø´Ù‡Ø±' },\n//                   { key: 'custom', label: 'Ù…Ø®ØµØµ' },\n//                 ].map(b => (\n//                   <button\n//                     key={b.key}\n//                     onClick={() => setDateRange(b.key)}\n//                     className={`px-3 py-1.5 rounded-md text-sm border\n//                       ${dateRange === b.key ? 'text-white' : 'text-gray-600 bg-white'}\n//                     `}\n//                     style={{\n//                       backgroundColor: dateRange === b.key ? theme.colors.primary : undefined,\n//                       borderColor: dateRange === b.key ? theme.colors.primary : '#e5e7eb'\n//                     }}\n//                   >\n//                     {b.label}\n//                   </button>\n//                 ))}\n//               </div>\n\n//               {dateRange === 'custom' && (\n//                 <div className=\"flex flex-wrap items-center gap-2\">\n//                   <input\n//                     type=\"date\"\n//                     value={customFrom}\n//                     onChange={e => setCustomFrom(e.target.value)}\n//                     className=\"px-3 py-2 text-sm border rounded-md\"\n//                   />\n//                   <span className=\"text-sm text-gray-500\">Ø¥Ù„Ù‰</span>\n//                   <input\n//                     type=\"date\"\n//                     value={customTo}\n//                     onChange={e => setCustomTo(e.target.value)}\n//                     className=\"px-3 py-2 text-sm border rounded-md\"\n//                   />\n//                 </div>\n//               )}\n//             </div>\n\n//             {/* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//             <div ref={printRef}>\n//               <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//                 <thead className=\"text-gray-600 bg-gray-50\">\n//                   <tr>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                     <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//                   </tr>\n//                 </thead>\n//                 <tbody>\n//                   {filteredSales.map(s => (\n//                     <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n//                       <td className=\"px-3 py-2\">{s.date}</td>\n//                       <td className=\"px-3 py-2\">{s.name}</td>\n//                       <td className=\"px-3 py-2\">{s.qty}</td>\n//                       <td className=\"px-3 py-2\">{s.price} Ø±.Ø³</td>\n//                       <td className=\"px-3 py-2 font-semibold text-sky-700\">{(s.qty * s.price).toFixed(2)} Ø±.Ø³</td>\n//                     </tr>\n//                   ))}\n//                 </tbody>\n//               </table>\n//               <div className=\"mt-3 text-left\">\n//                 <span className=\"px-3 py-1 text-sm font-semibold text-green-700 border border-green-200 rounded-md bg-green-50\">\n//                   Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {totalSales.toFixed(2)} Ø±.Ø³\n//                 </span>\n//               </div>\n//             </div>\n\n//             {/* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ‚Ø±ÙŠØ± */}\n//             <div className=\"flex flex-wrap justify-end gap-2 mt-4\">\n//               <button onClick={() => setShowSalesReport(true)} className=\"px-4 py-2 text-white rounded-md shadow-sm bg-emerald-600 hover:bg-emerald-700\">\n//                 Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\n//               </button>\n//               <button onClick={printSales} className=\"px-4 py-2 text-white rounded-md shadow-sm bg-sky-600 hover:bg-sky-700\">\n//                 ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©\n//               </button>\n//               <button onClick={exportCSV} className=\"px-4 py-2 text-white bg-indigo-600 rounded-md shadow-sm hover:bg-indigo-700\">\n//                 ğŸ“¥ ØªØµØ¯ÙŠØ± CSV\n//               </button>\n//             </div>\n//           </div>\n//         )}\n\n//         {/* ØªØ¨ÙˆÙŠØ¨ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */}\n//         {activeTab === 'alerts' && (\n//           <div className=\"grid gap-4 sm:grid-cols-2\">\n//             <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//               <h3 className=\"mb-2 text-lg font-semibold text-amber-700\">Ù…Ù†Ø®ÙØ¶ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h3>\n//               {lowStock.length ? lowStock.map(m => (\n//                 <div key={m.id} className=\"p-2 mb-1 text-sm border rounded-md bg-amber-50/60 border-amber-200\">\n//                   {m.name} â€” Ø§Ù„ÙƒÙ…ÙŠØ©: <b>{m.quantity}</b>\n//                 </div>\n//               )) : <div className=\"text-sm text-gray-500\">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±</div>}\n//             </div>\n//             <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//               <h3 className=\"mb-2 text-lg font-semibold text-rose-700\">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</h3>\n//               {expired.length ? expired.map(m => (\n//                 <div key={m.id} className=\"p-2 mb-1 text-sm border rounded-md bg-rose-50/60 border-rose-200\">\n//                   {m.name} â€” Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©: <b>{m.expiry}</b>\n//                 </div>\n//               )) : <div className=\"text-sm text-gray-500\">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±</div>}\n//             </div>\n//           </div>\n//         )}\n//       </div>\n\n//       {/* Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ¹ */}\n//       {showSaleModal && (\n//         <Modal title=\"ØªØ³Ø¬ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹\" onClose={() => setShowSaleModal(false)}>\n//           <div className=\"space-y-3 text-right\">\n//             <label className=\"block text-sm\">Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ§Ø¡</label>\n//             <select\n//               value={saleForm.medId}\n//               onChange={(e) => {\n//                 const id = Number(e.target.value)\n//                 const med = medicines.find(m => m.id === id)\n//                 setSaleForm({ medId: id, qty: 1, price: med?.price || 0 })\n//               }}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             >\n//               <option value=\"\">â€” Ø§Ø®ØªØ± â€”</option>\n//               {medicines.map(m => (\n//                 <option key={m.id} value={m.id}>{m.name} â€” Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: {m.quantity}</option>\n//               ))}\n//             </select>\n\n//             <label className=\"block text-sm\">Ø§Ù„ÙƒÙ…ÙŠØ©</label>\n//             <input\n//               type=\"number\"\n//               min=\"1\"\n//               value={saleForm.qty}\n//               onChange={(e) => setSaleForm({ ...saleForm, qty: Number(e.target.value) })}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             />\n\n//             <label className=\"block text-sm\">Ø§Ù„Ø³Ø¹Ø± (ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡)</label>\n//             <input\n//               type=\"number\"\n//               min=\"0\"\n//               value={saleForm.price}\n//               onChange={(e) => setSaleForm({ ...saleForm, price: Number(e.target.value) })}\n//               className=\"w-full px-3 py-2 border rounded-md\"\n//             />\n\n//             <div className=\"flex justify-end gap-2 pt-2\">\n//               <button onClick={submitSale} className=\"px-4 py-2 text-white rounded-md bg-emerald-600 hover:bg-emerald-700\">\n//                 Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\n//               </button>\n//               <button onClick={() => setShowSaleModal(false)} className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300\">\n//                 Ø¥Ù„ØºØ§Ø¡\n//               </button>\n//             </div>\n//           </div>\n//         </Modal>\n//       )}\n\n//       {/* Ù…ÙˆØ¯Ø§Ù„ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø© */}\n//       {showSalesReport && (\n//         <Modal title=\"Ù…Ø¹Ø§ÙŠÙ†Ø© ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\" onClose={() => setShowSalesReport(false)}>\n//           <div className=\"space-y-3 text-sm\" ref={printRef}>\n//             <div className=\"text-center\">\n//               <div className=\"text-lg font-bold\" style={{ color: theme.colors.primary }}>ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>\n//               <div className=\"text-gray-500\">{new Date().toLocaleString('ar-SA')}</div>\n//             </div>\n//             <table className=\"w-full border border-gray-200\">\n//               <thead className=\"text-gray-600 bg-gray-50\">\n//                 <tr>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {filteredSales.map(s => (\n//                   <tr key={`p-${s.id}`} className=\"border-t\">\n//                     <td className=\"px-3 py-2\">{s.date}</td>\n//                     <td className=\"px-3 py-2\">{s.name}</td>\n//                     <td className=\"px-3 py-2\">{s.qty}</td>\n//                     <td className=\"px-3 py-2\">{s.price} Ø±.Ø³</td>\n//                     <td className=\"px-3 py-2\">{(s.qty * s.price).toFixed(2)} Ø±.Ø³</td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//             <div className=\"font-semibold text-left text-green-700\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: {totalSales.toFixed(2)} Ø±.Ø³</div>\n//           </div>\n\n//           <div className=\"flex justify-end gap-2 mt-4\">\n//             <button onClick={printSales} className=\"px-4 py-2 text-white rounded-md bg-sky-600 hover:bg-sky-700\">\n//               ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©\n//             </button>\n//             <button onClick={exportCSV} className=\"px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700\">\n//               ğŸ“¥ CSV\n//             </button>\n//             <button onClick={() => setShowSalesReport(false)} className=\"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300\">\n//               Ø¥ØºÙ„Ø§Ù‚\n//             </button>\n//           </div>\n//         </Modal>\n//       )}\n//     </Layout>\n//   )\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n// import { useState, useEffect, useRef } from 'react'\n// import Layout from '../components/Layout'\n// import Modal from '../components/Modal'\n// import theme from '../theme'\n\n// export default function Pharmacist() {\n//   const [user, setUser] = useState({ name: 'Ø§Ù„ØµÙŠØ¯Ù„ÙŠ Ù…Ø­Ù…Ø¯' })\n//   const [medicines, setMedicines] = useState([])\n//   const [lowStock, setLowStock] = useState([])\n//   const [expired, setExpired] = useState([])\n//   const [sales, setSales] = useState([])\n//   const [searchTerm, setSearchTerm] = useState('')\n//   const [showDetailsModal, setShowDetailsModal] = useState(null)\n//   const [showAddModal, setShowAddModal] = useState(false)\n//   const [showSalesReport, setShowSalesReport] = useState(false)\n//   const reportRef = useRef(null)\n\n//   const [newMedicine, setNewMedicine] = useState({\n//     name: '',\n//     company: '',\n//     price: '',\n//     quantity: '',\n//     expiry: '',\n//   })\n\n//   useEffect(() => {\n//     const mockMedicines = [\n//       { id: 1, name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', company: 'GSK', price: 15, quantity: 10, expiry: '2025-12-10' },\n//       { id: 2, name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', company: 'Pfizer', price: 25, quantity: 3, expiry: '2024-06-02' },\n//       { id: 3, name: 'Ø§ÙŠØ¨ÙˆØ¨Ø±ÙˆÙÙŠÙ† 400mg', company: 'Novartis', price: 18, quantity: 2, expiry: '2023-12-30' },\n//     ]\n//     setMedicines(mockMedicines)\n//     const today = new Date()\n//     setLowStock(mockMedicines.filter((m) => m.quantity <= 5))\n//     setExpired(mockMedicines.filter((m) => new Date(m.expiry) < today))\n\n//     // ğŸ§¾ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªÙˆØ³Ø¹ Ù„Ø§Ø­Ù‚Ø§Ù‹)\n//     setSales([\n//       { id: 1, date: '2025-11-02', name: 'Ø¨Ø§Ø±Ø§Ø³ÙŠØªØ§Ù…ÙˆÙ„ 500mg', qty: 5, price: 15 },\n//       { id: 2, date: '2025-11-02', name: 'ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ 1000mg', qty: 2, price: 25 },\n//       { id: 3, date: '2025-11-01', name: 'Ø£Ù…ÙˆÙƒØ³ÙŠØ³ÙŠÙ„ÙŠÙ† 250mg', qty: 3, price: 45 },\n//     ])\n//   }, [])\n\n//   const filteredMedicines = medicines.filter(\n//     (m) =>\n//       m.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n//       m.company.toLowerCase().includes(searchTerm.toLowerCase())\n//   )\n\n//   const totalSalesToday = sales\n//     .filter((s) => s.date === new Date().toISOString().slice(0, 10))\n//     .reduce((sum, s) => sum + s.qty * s.price, 0)\n\n//   // ğŸ–¨ï¸ Ø¯Ø§Ù„Ø© Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©\n//   const handlePrint = () => {\n//     const printWindow = window.open('', '', 'width=850,height=900')\n//     printWindow.document.write(`\n//       <html dir=\"rtl\" lang=\"ar\">\n//         <head>\n//           <title>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</title>\n//           <style>\n//             body {\n//               font-family: 'Tajawal', sans-serif;\n//               padding: 25px;\n//               direction: rtl;\n//               background-color: #fff;\n//               color: #333;\n//             }\n//             h2 {\n//               text-align: center;\n//               color: #0369a1;\n//               margin-bottom: 10px;\n//             }\n//             table {\n//               width: 100%;\n//               border-collapse: collapse;\n//               margin-top: 15px;\n//             }\n//             th, td {\n//               border: 1px solid #ccc;\n//               padding: 8px;\n//               text-align: center;\n//             }\n//             th {\n//               background: #f1f5f9;\n//               font-weight: bold;\n//             }\n//             tfoot td {\n//               background: #e2e8f0;\n//               font-weight: bold;\n//             }\n//             .footer {\n//               margin-top: 40px;\n//               text-align: center;\n//               color: #555;\n//             }\n//             .signature {\n//               margin-top: 30px;\n//               text-align: left;\n//               font-size: 14px;\n//               color: #444;\n//             }\n//             .logo {\n//               text-align: center;\n//               margin-bottom: 20px;\n//             }\n//             .logo img {\n//               width: 80px;\n//             }\n//           </style>\n//         </head>\n//         <body>\n//           <div class=\"logo\">\n//             <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Pharmacy_symbol.svg/512px-Pharmacy_symbol.svg.png\" alt=\"Ø´Ø¹Ø§Ø± Ø§Ù„ØµÙŠØ¯Ù„ÙŠØ©\" />\n//             <h2>ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ</h2>\n//           </div>\n//           ${reportRef.current.innerHTML}\n//           <div class=\"footer\">\n//             <p>ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ ${new Date().toLocaleString('ar-SA')}</p>\n//           </div>\n//           <div class=\"signature\">\n//             <p>ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„ØµÙŠØ¯Ù„ÙŠ: .....................................</p>\n//           </div>\n//         </body>\n//       </html>\n//     `)\n//     printWindow.document.close()\n//     printWindow.focus()\n//     printWindow.print()\n//     printWindow.close()\n//   }\n\n//   return (\n//     <Layout user={user} title=\"Ù„ÙˆØ­Ø© Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\">\n//       <div dir=\"rtl\" className=\"space-y-6\">\n//         {/* ğŸ”¹ Ø´Ø±ÙŠØ· Ø§Ù„ØªØ­ÙƒÙ… */}\n//         <div className=\"flex flex-wrap items-center justify-between gap-3\">\n//           <input\n//             type=\"text\"\n//             placeholder=\"ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡ Ø£Ùˆ Ø§Ù„Ø´Ø±ÙƒØ©...\"\n//             value={searchTerm}\n//             onChange={(e) => setSearchTerm(e.target.value)}\n//             className=\"flex-1 px-4 py-2 text-sm border rounded-md focus:ring-2 focus:ring-sky-400\"\n//           />\n//           <div className=\"flex gap-2\">\n//             <button\n//               onClick={() => setShowAddModal(true)}\n//               className=\"px-5 py-2 text-white rounded-md shadow bg-sky-600 hover:bg-sky-700\"\n//             >\n//               â• Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ø¡\n//             </button>\n//             <button\n//               onClick={() => setShowSalesReport(true)}\n//               className=\"px-5 py-2 text-white bg-green-600 rounded-md shadow hover:bg-green-700\"\n//             >\n//               ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª\n//             </button>\n//           </div>\n//         </div>\n\n//         {/* ğŸ’Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£Ø¯ÙˆÙŠØ© */}\n//         <div className=\"p-4 bg-white border rounded-lg shadow-sm\">\n//           <h3 className=\"mb-3 text-lg font-semibold text-gray-700\">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¯ÙˆÙŠØ©</h3>\n//           <table className=\"w-full text-sm text-right border-t border-gray-100\">\n//             <thead className=\"text-gray-600 bg-gray-50\">\n//               <tr>\n//                 <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø´Ø±ÙƒØ©</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                 <th className=\"px-3 py-2\">Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\n//               </tr>\n//             </thead>\n//             <tbody>\n//               {filteredMedicines.map((m) => (\n//                 <tr key={m.id} className=\"border-t hover:bg-gray-50\">\n//                   <td className=\"px-3 py-2\">{m.name}</td>\n//                   <td className=\"px-3 py-2\">{m.company}</td>\n//                   <td className=\"px-3 py-2\">{m.price} Ø±.Ø³</td>\n//                   <td className={`px-3 py-2 ${m.quantity <= 5 ? 'text-red-600' : 'text-green-700'}`}>\n//                     {m.quantity}\n//                   </td>\n//                   <td className={`px-3 py-2 ${new Date(m.expiry) < new Date() ? 'text-red-600' : ''}`}>\n//                     {m.expiry}\n//                   </td>\n//                 </tr>\n//               ))}\n//             </tbody>\n//           </table>\n//         </div>\n//       </div>\n\n//       {/* ğŸ“Š Ù…ÙˆØ¯Ø§Ù„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª */}\n//       {showSalesReport && (\n//         <Modal title=\"ØªÙ‚Ø±ÙŠØ± Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ØµÙŠØ¯Ù„ÙŠ\" onClose={() => setShowSalesReport(false)}>\n//           <div ref={reportRef} className=\"space-y-2 text-sm text-gray-700\">\n//             <h3 className=\"mb-3 text-lg font-semibold text-center text-sky-700\">\n//               ğŸ’Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©\n//             </h3>\n//             <table className=\"w-full text-sm text-right border border-gray-200\">\n//               <thead className=\"text-gray-600 bg-gray-50\">\n//                 <tr>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>\n//                   <th className=\"px-3 py-2\">Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„ÙƒÙ…ÙŠØ©</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø³Ø¹Ø±</th>\n//                   <th className=\"px-3 py-2\">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {sales.map((s) => (\n//                   <tr key={s.id} className=\"border-t hover:bg-gray-50\">\n//                     <td className=\"px-3 py-2\">{s.date}</td>\n//                     <td className=\"px-3 py-2\">{s.name}</td>\n//                     <td className=\"px-3 py-2\">{s.qty}</td>\n//                     <td className=\"px-3 py-2\">{s.price} Ø±.Ø³</td>\n//                     <td className=\"px-3 py-2 font-semibold text-sky-700\">\n//                       {(s.qty * s.price).toFixed(2)} Ø±.Ø³\n//                     </td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//             <div className=\"mt-4 font-semibold text-center text-green-700\">\n//               ğŸ§¾ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…: {totalSalesToday.toFixed(2)} Ø±.Ø³\n//             </div>\n//           </div>\n\n//           <button\n//             onClick={handlePrint}\n//             className=\"w-full py-2 mt-4 text-white rounded-md bg-sky-600 hover:bg-sky-700\"\n//           >\n//             ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\n//           </button>\n//         </Modal>\n//       )}\n//     </Layout>\n//   )\n// }\n"],"names":[],"mappings":"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","debugId":null}}]
}